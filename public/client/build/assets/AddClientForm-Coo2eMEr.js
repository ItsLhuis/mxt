import{u as m,X as u,j as e,Z as t,a as x,aA as h,T as p,a0 as g,a1 as j,a8 as f,B as C,a3 as S,a4 as T,aa as v,a5 as b}from"./index-BCLPk4lW.js";import{c as w}from"./client-DMtzKf5L.js";import{u as A}from"./useClient-DLrBmBmQ.js";import{R as E,s as F}from"./sanitizeHTML-D64nu3UT.js";const P=()=>{var n;const i=m(),{control:r,register:c,handleSubmit:l,formState:{errors:s}}=u({resolver:T(w)}),{createNewClient:o}=A(),d=async a=>{await o.mutateAsync({...a,description:F(a.description)===""?null:a.description}).then(()=>{i("/client/list"),v("Cliente adicionado com sucesso!")}).catch(()=>b("Erro ao adicionar cliente!"))};return e.jsx("form",{onSubmit:l(d),children:e.jsx(t,{sx:{marginTop:3,gap:3},children:e.jsxs(x,{elevation:1,children:[e.jsx(h,{title:"Detalhes",description:"Nome e descrição do cliente",icon:e.jsx(p,{})}),e.jsxs(t,{sx:{padding:3,gap:2},children:[e.jsx(g,{fullWidth:!0,children:e.jsx(j,{...c("name"),label:"Nome",error:!!s.name,helperText:(n=s.name)==null?void 0:n.message})}),e.jsx(f,{name:"description",control:r,defaultValue:"",render:({field:a})=>e.jsx(E,{label:"Descrição",value:a.value,onChange:a.onChange})}),e.jsx(C,{sx:{marginLeft:"auto",marginTop:1},children:e.jsx(S,{loading:o.isPending,type:"submit",variant:"contained",children:"Adicionar Cliente"})})]})]})})})};export{P as default};
