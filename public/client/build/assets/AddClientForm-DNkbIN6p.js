import{d,j as e,S as i,f as u,H as p,X as x,F as h,T as g,bc as j,B as f,L as C,ab as S,s as b}from"./index-C9HasOiM.js";import{u as v,C as T,t as F}from"./index-BTi6rd4V.js";import{c as w}from"./client-Dy9TJCig.js";import{u as E}from"./useClient-C9FOb7yq.js";import"./isPossiblePhoneNumber-C2Df4Gz7.js";import"./client-CVPJ2IqU.js";const D=()=>{var a;const n=d(),{control:r,register:c,handleSubmit:l,formState:{errors:s}}=v({resolver:F(w)}),{createNewClient:t}=E(),m=async o=>{await t.mutateAsync({...o,description:o.description===""?null:o.description}).then(()=>{n("/client/list"),S("Cliente adicionado com sucesso!")}).catch(()=>b("Erro ao adicionar cliente!"))};return e.jsx("form",{onSubmit:l(m),children:e.jsx(i,{sx:{marginTop:3,gap:3},children:e.jsxs(u,{elevation:1,children:[e.jsx(p,{title:"Detalhes",description:"Nome e descrição do cliente",icon:e.jsx(x,{})}),e.jsxs(i,{sx:{padding:3,gap:2},children:[e.jsx(h,{fullWidth:!0,children:e.jsx(g,{...c("name"),label:"Nome",error:!!s.name,helperText:(a=s.name)==null?void 0:a.message,autoComplete:"off"})}),e.jsx(T,{name:"description",control:r,defaultValue:"",render:({field:o})=>e.jsx(j,{label:"Descrição",value:o.value,onChange:o.onChange})}),e.jsx(f,{sx:{marginLeft:"auto",marginTop:1},children:e.jsx(C,{loading:t.isPending,type:"submit",variant:"contained",children:"Adicionar Cliente"})})]})]})})})};export{D as default};
