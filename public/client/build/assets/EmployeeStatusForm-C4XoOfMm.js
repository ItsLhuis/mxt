import{t as f,j as t,r as S,q as g,f as w,S as o,H as E,aM as b,aQ as i,F as C,h as x,B as y,L,ab as A,s as z}from"./index-C9HasOiM.js";import{u as B,b as I,a as D,C as V,t as k}from"./index-BTi6rd4V.js";import{g as T}from"./user-C-rtefft.js";import{S as F}from"./Switch-Bq2ajAyO.js";import"./isPossiblePhoneNumber-C2Df4Gz7.js";const H=f(t.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"}),"VerifiedUser"),Q=({user:a,isUserFinished:e})=>{var d;const{control:n,handleSubmit:m,watch:M,reset:h}=B({resolver:k(T)}),p={isActive:e?!!((d=a==null?void 0:a.user)!=null&&d.is_active):!0},{isDirty:u}=I({control:n}),r=()=>!u;S.useEffect(()=>{e&&a&&h(p)},[e,a]);const{updateUserStatus:c}=g(),j=async s=>{var l;r()||c.mutateAsync({userId:(l=a==null?void 0:a.user)==null?void 0:l.id,...s}).then(()=>A("Estado da conta atualizado com sucesso!")).catch(()=>z("Erro ao atualizar estado da conta!"))},v=D({control:n,name:"isActive"});return t.jsx(w,{elevation:1,children:t.jsxs(o,{children:[t.jsx(E,{title:"Estado",description:"Atualizar estado da conta do funcionÃ¡rio",icon:t.jsx(H,{})}),t.jsx("form",{onSubmit:m(j),children:t.jsxs(o,{sx:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:3},children:[t.jsx(b,{isLoading:!e,LoadingComponent:t.jsxs(o,{sx:{flexDirection:"row",gap:1},children:[t.jsx(i,{variant:"text",width:40}),t.jsxs(o,{children:[t.jsx(i,{variant:"text",width:110}),t.jsx(i,{variant:"text",width:90})]})]}),LoadedComponent:t.jsx(C,{fullWidth:!0,children:t.jsxs(o,{sx:{flexDirection:"row",alignItems:"center"},children:[t.jsx(V,{name:"isActive",control:n,render:({field:s})=>t.jsx(F,{edge:"start",value:s.value,onChange:s.onChange,defaultChecked:!!(a!=null&&a.user.is_active)})}),t.jsxs(o,{children:[t.jsx(x,{variant:"p",component:"p",children:"Estado da conta"}),t.jsx(x,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:v?"Ativa":"Inativa"})]})]})})}),t.jsx(y,{children:t.jsx(L,{loading:c.isPending,type:"submit",variant:"contained",disabled:!e||r(),children:"Atualizar Estado"})})]})})]})})};export{Q as default};
