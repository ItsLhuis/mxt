import{b as s,j as a,o as f,B as r,i as c,m as D,S as p,C as q,q as R,ai as b,aj as d,ak as x,Z as C,al as w,am as L}from"./index-B8VqKcfT.js";import{a as v}from"./PieChart-BTzQUb6l.js";import{G as g}from"./Grid-DIdDvuUh.js";import{b as y}from"./date-C6uHxhr8.js";import"./currency-DMbMY7YD.js";const S=()=>a.jsxs(p,{sx:{gap:1.3},children:[a.jsx(c,{variant:"h3",component:"h3",children:a.jsx(d,{width:60})}),a.jsxs(p,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[a.jsx(d,{variant:"rounded",width:80,height:32,sx:{borderRadius:2}}),a.jsx(d,{variant:"circular",width:13,height:13})]})]}),h=({icon:i,title:n,metricQuery:t,chartQuery:e,colorLine:o,mdSize:l})=>a.jsx(g,{item:!0,xs:12,md:l,lg:4,children:a.jsx(f,{elevation:1,children:a.jsxs(r,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[a.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:1.3,padding:3},children:[a.jsx(r,{sx:{display:"flex",justifyContent:"center",alignItems:"center",padding:1.5,borderRadius:2,backgroundColor:"var(--elevation-level3)"},children:i}),a.jsx(c,{variant:"p",component:"p",sx:{fontWeight:600},children:n}),t.isLoading?a.jsx(S,{}):a.jsxs(D.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"10.4px"},children:[a.jsx(c,{variant:"h3",component:"h3",children:t==null?void 0:t.data.total}),a.jsxs(p,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[a.jsx(q,{label:t==null?void 0:t.data.change,color:t==null?void 0:t.data.color,sx:{marginTop:"auto"}}),a.jsx(R,{title:"Em comparação com o mês anterior"})]})]})]}),a.jsx(r,{sx:{width:"100%",marginRight:3,display:e.isLoading&&"flex",justifyContent:"center"},children:e.isLoading?a.jsx(b,{}):a.jsx(v,{colorLine:o,xData:e==null?void 0:e.data.xData,yData:[{name:n,data:e==null?void 0:e.data.yData}]})})]})})});h.propTypes={icon:s.node.isRequired,title:s.string.isRequired,metricQuery:s.shape({isLoading:s.bool.isRequired,data:s.shape({total:s.number.isRequired,change:s.string.isRequired,color:s.string.isRequired})}).isRequired,chartQuery:s.shape({isLoading:s.bool.isRequired,data:s.shape({xData:s.arrayOf(s.string.isRequired),yData:s.arrayOf(s.number.isRequired)})}).isRequired,colorLine:s.string.isRequired,mdSize:s.number.isRequired};const I=()=>{const i=new Date,n=[i];for(let e=1;e<8;e++){const o=new Date(i.getFullYear(),i.getMonth()-e,i.getDate());n.push(o)}return n.sort((e,o)=>e-o),n.map(e=>y(e))},P=async i=>(await new Promise(t=>setTimeout(t,3e3)),{clients:{total:503,change:"+ 27,11%",color:"success"},equipments:{total:735,change:"- 2,43%",color:"error"},repairs:{total:3921,change:"+ 4,78%",color:"success"}}[i]),T=async i=>{await new Promise(e=>setTimeout(e,4e3));const n=I();return{clients:{xData:n,yData:[1,74,18,68,65,82,92,68]},equipments:{xData:n,yData:[15,59,46,50,95,40,0,31]},repairs:{xData:n,yData:[2,72,63,14,47,87,30,74]}}[i]},B=()=>{const i=[{type:"clients",icon:a.jsx(C,{}),title:"Clientes",colorLine:"rgb(248, 112, 96)"},{type:"equipments",icon:a.jsx(w,{}),title:"Equipamentos",colorLine:"rgb(165, 170, 82)"},{type:"repairs",icon:a.jsx(L,{}),title:"Reparações",colorLine:"rgb(124, 152, 179)"}],n=i.length%2===0?6:12;return a.jsx(g,{container:!0,spacing:3,children:i.map(({type:t,icon:e,title:o,colorLine:l},m)=>{const u=x({queryKey:[`dashboard${t.charAt(0).toUpperCase()+t.slice(1)}MetricData`],queryFn:()=>P(t)}),j=x({queryKey:[`dashboard${t.charAt(0).toUpperCase()+t.slice(1)}ChartData`],queryFn:()=>T(t)});return a.jsx(h,{icon:e,title:o,metricQuery:u,chartQuery:j,colorLine:l,mdSize:m===i.length-1?n:6},t)})})};export{B as default};
