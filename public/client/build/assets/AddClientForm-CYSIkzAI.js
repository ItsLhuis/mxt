import{u as m,d as u,j as e,S as r,a as x,ay as h,a5 as p,f as g,g as j,C as f,B as C,L as S,t as v,s as b,aB as T}from"./index-DI1axIxw.js";import{c as w}from"./client-DfPiuclJ.js";import{u as y}from"./useClient-ByTbipZR.js";import{R as B,s as E}from"./sanitizeHTML-zOyfSQgP.js";const P=()=>{var o;const n=m(),{control:i,register:c,handleSubmit:l,formState:{errors:a}}=u({resolver:v(w)}),{createNewClient:t}=y(),d=async s=>{await t.mutateAsync({...s,description:E(s.description)===""?null:s.description}).then(()=>{n("/client/list"),b("Cliente criado com sucesso!")}).catch(()=>T("Erro ao criar cliente!"))};return e.jsx("form",{onSubmit:l(d),children:e.jsxs(r,{sx:{marginTop:3,gap:3},children:[e.jsxs(x,{elevation:1,children:[e.jsx(h,{title:"Detalhes",description:"Nome e descrição do cliente",icon:e.jsx(p,{})}),e.jsxs(r,{sx:{padding:3,gap:3},children:[e.jsx(g,{fullWidth:!0,children:e.jsx(j,{...c("name"),label:"Nome",error:!!a.name,helperText:(o=a.name)==null?void 0:o.message})}),e.jsx(f,{name:"description",control:i,defaultValue:"",render:({field:s})=>e.jsx(B,{label:"Descrição",value:s.value,onChange:s.onChange})})]})]}),e.jsx(C,{sx:{marginLeft:"auto"},children:e.jsx(S,{loading:t.isPending,type:"submit",variant:"contained",children:"Adicionar Cliente"})})]})})};export{P as default};
