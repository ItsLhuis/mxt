import{a8 as s,i as M,k as c,a9 as o,aj as d,s as q}from"./index-DJpfvod0.js";const _=async()=>(await s.get("/equipments/summary")).data,T=async()=>(await s.get("/equipments")).data,D=async({equipmentId:e})=>(await s.get(`/equipments/${e}`)).data,K=async({clientId:e,brandId:t,modelId:i,typeId:r,sn:p,description:m})=>(await s.post("/equipments",{clientId:e,brandId:t,modelId:i,typeId:r,sn:p,description:m})).data,x=async({equipmentId:e,brandId:t,modelId:i,typeId:r,sn:p,description:m})=>(await s.put(`/equipments/${e}`,{brandId:t,modelId:i,typeId:r,sn:p,description:m})).data,N=async({equipmentId:e,clientId:t})=>(await s.put(`/equipments/${e}/client`,{clientId:t})).data,C=async({equipmentId:e})=>(await s.delete(`/equipments/${e}`)).data,j=async({equipmentId:e,attachments:t})=>{const i=new FormData;return t.forEach(p=>{i.append("attachments",p)}),(await s.post(`/equipments/${e}/attachments`,i,{headers:{"Content-Type":"multipart/form-data"}})).data},k=async({equipmentId:e,attachmentId:t})=>(await s.delete(`/equipments/${e}/attachments/${t}`)).data,z=async()=>(await s.get("/equipments/types")).data,G=async({name:e})=>(await s.post("/equipments/types",{name:e})).data,H=async({typeId:e,name:t})=>(await s.put(`/equipments/types/${e}`,{name:t})).data,J=async({typeId:e})=>(await s.delete(`/equipments/types/${e}`)).data,L=async()=>(await s.get("/equipments/brands")).data,O=async({name:e})=>(await s.post("/equipments/brands",{name:e})).data,P=async({brandId:e,name:t})=>(await s.put(`/equipments/brands/${e}`,{name:t})).data,R=async({brandId:e})=>(await s.delete(`/equipments/brands/${e}`)).data,U=async()=>(await s.get("/equipments/models")).data,V=async({brandId:e})=>(await s.get(`/equipments/models/brands/${e}`)).data,W=async({brandId:e,name:t})=>(await s.post("/equipments/models",{brandId:e,name:t})).data,X=async({modelId:e,brandId:t,name:i})=>(await s.put(`/equipments/models/${e}`,{brandId:t,name:i})).data,Y=async({modelId:e})=>(await s.delete(`/equipments/models/${e}`)).data,ee=()=>{const e=M(),t=c({queryKey:["equipments"],queryFn:T,onSuccess:n=>{e.setQueryData(["equipments"],n)},refetchInterval:6e4}),i=n=>c({queryKey:["equipments",n],queryFn:()=>D({equipmentId:n}),onSuccess:a=>{e.setQueryData(["equipments",n],a)},enabled:!!n}),r=o({mutationFn:K,onSuccess:async()=>{await e.invalidateQueries(["equipments"])}}),p=o({mutationFn:x,onSuccess:async(n,a)=>{const u=a.equipmentId;await e.invalidateQueries(["equipments"]),await e.invalidateQueries(["equipments",u])}}),m=o({mutationFn:N,onSuccess:async(n,a)=>{const u=a.equipmentId;await e.invalidateQueries(["equipments"]),await e.invalidateQueries(["equipments",u]),d("Equipamento transferido com sucesso!")},onError:()=>{q("Erro ao transferir equipamento!")}}),l=o({mutationFn:C,onSuccess:async(n,a)=>{const u=a.equipmentId;await e.invalidateQueries(["equipments"]),await e.removeQueries(["equipments",u]),d("Equipamento eliminado com sucesso!")},onError:()=>{q("Erro ao eliminar equipamento!")}}),y=o({mutationFn:j,onSuccess:async(n,a)=>{const u=a.equipmentId;await e.invalidateQueries(["equipments"]),await e.invalidateQueries(["equipments",u]),d("Anexo adicionado com sucesso!")},onError:()=>{q("Erro ao adicionar anexo!")}}),E=o({mutationFn:k,onSuccess:async(n,a)=>{const u=a.equipmentId;await e.invalidateQueries(["equipments"]),await e.invalidateQueries(["equipments",u]),d("Anexo eliminado com sucesso!")},onError:()=>{q("Erro ao eliminar anexo!")}}),w=c({queryKey:["equipments","types"],queryFn:z,onSuccess:n=>{e.setQueryData(["equipments","types"],n)}}),Q=o({mutationFn:G,onSuccess:async()=>{await e.invalidateQueries(["equipments","types"])}}),v=o({mutationFn:H,onSuccess:async()=>{await e.invalidateQueries(["equipments","types"])}}),$=o({mutationFn:J,onSuccess:async()=>{await e.invalidateQueries(["equipments","types"])}}),S=c({queryKey:["equipments","brands"],queryFn:L,onSuccess:n=>{e.setQueryData(["equipments","brands"],n)}}),F=o({mutationFn:O,onSuccess:async()=>{await e.invalidateQueries(["equipments","brands"])}}),b=o({mutationFn:P,onSuccess:async()=>{await e.invalidateQueries(["equipments","brands"])}}),A=o({mutationFn:R,onSuccess:async()=>{await e.invalidateQueries(["equipments","brands"])}}),f=c({queryKey:["equipments","models"],queryFn:U,onSuccess:n=>{e.setQueryData(["equipments","models"],n)}}),B=n=>c({queryKey:["equipments","models","brand",n],queryFn:()=>V({brandId:n}),onSuccess:a=>{e.setQueryData(["equipments","models","brand",n],a)},enabled:!!n}),I=o({mutationFn:W,onSuccess:async(n,a)=>{const u=a.brandId;await e.invalidateQueries(["equipments","models"]),await e.invalidateQueries(["equipments","models","brand",u])}}),g=o({mutationFn:X,onSuccess:async(n,a)=>{const u=a.brandId;await e.invalidateQueries(["equipments","models"]),await e.invalidateQueries(["equipments","models","brand",u])}}),h=o({mutationFn:Y,onSuccess:async(n,a)=>{const u=a.modbrandIdelId;await e.invalidateQueries(["equipments","models"]),await e.removeQueries(["equipments","models","brand",u])}});return{findAllEquipments:t,findEquipmentById:i,createNewEquipment:r,updateEquipment:p,transferEquipment:m,deleteEquipment:l,addNewEquipmentAttachment:y,deleteEquipmentAttachment:E,findAllEquipmentTypes:w,createNewEquipmentType:Q,updateEquipmentType:v,deleteEquipmentType:$,findAllEquipmentBrands:S,createNewEquipmentBrand:F,updateEquipmentBrand:b,deleteEquipmentBrand:A,findAllEquipmentModels:f,findAllEquipmentModelsByBrandId:B,createNewEquipmentModel:I,updateEquipmentModel:g,deleteEquipmentModel:h}};export{_ as g,ee as u};
