const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/EmployeeRoleForm-6eiA2hdg.js","assets/index-D5KQThVv.js","assets/index-DOidGzGz.css","assets/index-DCkCG_3f.js","assets/user-CTzgvlgY.js","assets/isPossiblePhoneNumber-DES16dOz.js","assets/EmployeeStatusForm-DPz-Vh01.js","assets/Switch-B_dFhpm0.js"])))=>i.map(i=>d[i]);
import{r as s,_ as v,av as b,e as _,p as U,j as a,n as L,S as t,m as p,a6 as m,f as S,H as A,ax as F,G as x,aZ as P,b6 as w,aV as z,aW as I,h as n}from"./index-D5KQThVv.js";import{f}from"./phone-B8ybmA3k.js";import"./isPossiblePhoneNumber-DES16dOz.js";const C=s.lazy(()=>v(()=>import("./EmployeeRoleForm-6eiA2hdg.js"),__vite__mapDeps([0,1,2,3,4,5]))),R=s.lazy(()=>v(()=>import("./EmployeeStatusForm-DPz-Vh01.js"),__vite__mapDeps([6,1,2,3,4,5,7]))),N=()=>{const{employeeId:l}=b(),{id:h,role:d}=_(),{findEmployeeByUserId:u}=U(),{data:e,isLoading:j,isError:c,error:y}=u(l),i=!j&&!c,r=(d==="Chefe"||d==="Administrador"&&(e==null?void 0:e.user.role)==="Funcionário")&&Number(l)!==h,g=[{label:"User",value:e==null?void 0:e.user},{label:"E-mail",value:e==null?void 0:e.user.email},{label:"Nome",value:e==null?void 0:e.name},{label:"Contacto",value:f(e==null?void 0:e.phone_number)},{label:"País",value:e==null?void 0:e.country},{label:"Cidade",value:e==null?void 0:e.city},{label:"Localidade",value:e==null?void 0:e.locality},{label:"Endereço",value:e==null?void 0:e.address},{label:"Código Postal",value:e==null?void 0:e.postal_code}];return a.jsx(s.Suspense,{fallback:a.jsx(L,{}),children:a.jsxs(t,{sx:{marginTop:3,paddingBottom:3,gap:3},children:[!r&&i&&a.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},style:{position:"sticky",top:16,zIndex:1},children:a.jsx(m,{severity:"error",elevation:1,sx:{width:"100%"},children:"Não tem permissão para editar este utilizador!"})}),c&&y.error.code==="USR-003"&&a.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},style:{position:"sticky",top:16,zIndex:1},children:a.jsx(m,{severity:"error",elevation:1,sx:{width:"100%"},children:"Funcionário não encontrado!"})}),a.jsxs(t,{sx:{gap:3},children:[a.jsxs(S,{elevation:1,children:[a.jsx(A,{title:"Detalhes",description:"Utilizador, email, nome, contacto... do funcionário",icon:a.jsx(F,{})}),a.jsx(x,{container:!0,spacing:2,sx:{paddingInline:3,paddingBottom:3},children:g.map((o,E)=>a.jsx(x,{item:!0,xs:12,sm:6,md:4,children:a.jsx(P,{isLoading:!i||!r,LoadingComponent:a.jsx(w,{variant:"rounded",width:"100%",height:52}),LoadedComponent:a.jsx(t,{children:o.label==="User"?o.value?a.jsxs(t,{sx:{flexDirection:"row",justifyContent:"",alignItems:"center",gap:1},children:[a.jsx(z,{alt:i?"Avatar de utilizador":o.value.username,src:i?`${I}/users/${o.value.id}/avatar?size=80`:"",name:i?o.value.username:""}),a.jsxs(t,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(n,{variant:"p",component:"p",fontWeight:500,children:o.value.username}),a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:o.value.role})]})]}):a.jsx(n,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:"Sem valor"}):a.jsxs(a.Fragment,{children:[a.jsx(n,{variant:"p",component:"p",sx:{color:"var(--outline)",fontWeight:550},children:o.label}),o.value?a.jsx(n,{variant:"p",component:"p",children:o.value}):a.jsx(n,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:"Sem valor"})]})})})},E))})]}),a.jsx(C,{user:e,isUserFinished:i&&r}),a.jsx(R,{user:e,isUserFinished:i&&r})]})]})})};export{N as default};
