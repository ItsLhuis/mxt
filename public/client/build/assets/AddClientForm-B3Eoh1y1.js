import{d as m,j as e,S as n,f as u,H as p,W as x,F as h,T as g,b3 as j,B as f,L as C,ak as S,s as b}from"./index-_NktdslD.js";import{u as v,C as T,t as F}from"./index-8QsUXVhp.js";import{c as w}from"./client-BHMlStuD.js";import{u as y}from"./useClient-B8aLe1Fc.js";import"./isPossiblePhoneNumber-DES16dOz.js";const P=()=>{var a;const r=m(),{control:i,register:l,handleSubmit:c,formState:{errors:o}}=v({resolver:F(w)}),{createNewClient:t}=y(),d=async s=>{await t.mutateAsync({...s,description:s.description===""?null:s.description}).then(()=>{r("/client/list"),S("Cliente adicionado com sucesso!")}).catch(()=>b("Erro ao adicionar cliente!"))};return e.jsx("form",{onSubmit:c(d),children:e.jsx(n,{sx:{marginTop:3,gap:3},children:e.jsxs(u,{elevation:1,children:[e.jsx(p,{title:"Detalhes",description:"Nome e descrição do cliente",icon:e.jsx(x,{})}),e.jsxs(n,{sx:{padding:3,gap:2},children:[e.jsx(h,{fullWidth:!0,children:e.jsx(g,{...l("name"),label:"Nome",error:!!o.name,helperText:(a=o.name)==null?void 0:a.message,autoComplete:"off"})}),e.jsx(T,{name:"description",control:i,defaultValue:"",render:({field:s})=>e.jsx(j,{label:"Descrição",value:s.value,onChange:s.onChange,shouldImmediatelyRender:!0})}),e.jsx(f,{sx:{marginLeft:"auto",marginTop:1},children:e.jsx(C,{loading:t.isPending,type:"submit",variant:"contained",children:"Adicionar Cliente"})})]})]})})})};export{P as default};
