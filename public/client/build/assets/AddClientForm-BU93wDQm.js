import{d,j as e,S as r,f as u,H as p,W as x,F as h,T as g,ba as j,B as f,L as C,aj as S,s as b}from"./index-QasZhORg.js";import{u as v,C as T,t as F}from"./index-CO9l3Whn.js";import{c as w}from"./client-DeuqyzNq.js";import{u as y}from"./useClient-CbwQlijl.js";import"./isPossiblePhoneNumber-DES16dOz.js";import"./client-DIiuiTP8.js";const R=()=>{var a;const i=d(),{control:n,register:l,handleSubmit:c,formState:{errors:s}}=v({resolver:F(w)}),{createNewClient:t}=y(),m=async o=>{await t.mutateAsync({...o,description:o.description===""?null:o.description}).then(()=>{i("/client/list"),S("Cliente adicionado com sucesso!")}).catch(()=>b("Erro ao adicionar cliente!"))};return e.jsx("form",{onSubmit:c(m),children:e.jsx(r,{sx:{marginTop:3,gap:3},children:e.jsxs(u,{elevation:1,children:[e.jsx(p,{title:"Detalhes",description:"Nome e descrição do cliente",icon:e.jsx(x,{})}),e.jsxs(r,{sx:{padding:3,gap:2},children:[e.jsx(h,{fullWidth:!0,children:e.jsx(g,{...l("name"),label:"Nome",error:!!s.name,helperText:(a=s.name)==null?void 0:a.message,autoComplete:"off"})}),e.jsx(T,{name:"description",control:n,defaultValue:"",render:({field:o})=>e.jsx(j,{label:"Descrição",value:o.value,onChange:o.onChange,shouldImmediatelyRender:!0})}),e.jsx(f,{sx:{marginLeft:"auto",marginTop:1},children:e.jsx(C,{loading:t.isPending,type:"submit",variant:"contained",children:"Adicionar Cliente"})})]})]})})})};export{R as default};
