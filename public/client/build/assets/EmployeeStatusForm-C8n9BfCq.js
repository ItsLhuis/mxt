import{X as u,r as g,b as v,j as a,Z as e,aA as j,ax as f,ap as S,a0 as C,a8 as E,Y as r,B as b,a3 as w,a4 as A,aa as B,a5 as y}from"./index-BCLPk4lW.js";import{g as I}from"./user-Bho16HCH.js";import{S as L}from"./Switch-Bdik7-NQ.js";const _=({user:t,isUserFinished:o})=>{const{control:l,handleSubmit:m,watch:s,reset:x}=u({resolver:A(I)}),p={isActive:o?!!(t!=null&&t.user.is_active):!0},i=()=>s().isActive===!!(t!=null&&t.user.is_active);g.useEffect(()=>{o&&t&&x(p)},[o,t]);const{updateUserStatus:c}=v(),h=async n=>{var d;i()||c.mutateAsync({userId:(d=t==null?void 0:t.user)==null?void 0:d.id,...n}).then(()=>B("Estado da conta atualizado com sucesso!")).catch(()=>y("Erro ao atualizar estado da conta!"))};return a.jsxs(e,{sx:{paddingBottom:2},children:[a.jsx(j,{title:"Estado",description:"Atualizar estado da conta do funcionÃ¡rio"}),a.jsx("form",{onSubmit:m(h),children:a.jsxs(e,{sx:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingBlock:1},children:[a.jsx(f,{isLoading:!o,LoadingComponent:a.jsx(S,{variant:"rounded",width:"100%",sx:{marginInline:3},height:52}),LoadedComponent:a.jsx(C,{fullWidth:!0,children:a.jsxs(e,{sx:{flexDirection:"row",alignItems:"center",paddingInline:2},children:[a.jsx(E,{name:"isActive",control:l,render:({field:n})=>a.jsx(L,{value:n.value,onChange:n.onChange,defaultChecked:!!(t!=null&&t.user.is_active)})}),a.jsxs(e,{children:[a.jsx(r,{variant:"p",component:"p",children:"Estado da conta"}),a.jsx(r,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:s("isActive")?"Conta ativa":"Conta inativa"})]})]})})}),a.jsx(b,{sx:{paddingRight:3},children:a.jsx(w,{loading:c.isPending,type:"submit",variant:"contained",disabled:!o||i(),children:"Atualizar Estado"})})]})})]})};export{_ as default};
