import{d as G,e as J,r as o,j as t,S as l,a7 as D,b0 as $,h as n,aF as p,aG as x,aI as u,aJ as f,aK as _,aL as K,aM as Q,ah as V,aN as X,aO as Z,aP as w,aQ as b,B as v,b1 as O,b2 as ee,aT as y,H as S,ay as te,aR as ie,aS as ae,aU as ne}from"./index-_NktdslD.js";import{u as le}from"./useClient-B8aLe1Fc.js";import{f as z}from"./phone-B8ybmA3k.js";import{E as se}from"./Edit-9t-WI8hJ.js";import{C as de}from"./Check-DhRqV4Lx.js";import{P as ce}from"./Phone-BlaUwr-v.js";import{P as re}from"./Place-Cg-rCbml.js";import{H as oe}from"./History-B4BUT27R.js";import"./isPossiblePhoneNumber-DES16dOz.js";const je=()=>{const I=G(),{role:F}=J(),{findAllClients:E,deleteClient:L}=le(),{data:A,isLoading:H}=E,[T,W]=o.useState({isOpen:!1,clientId:null}),q=i=>{W({isOpen:!0,clientId:i})},M=()=>{W({isOpen:!1,clientId:null})},N=()=>new Promise((i,m)=>{T.clientId?L.mutateAsync({clientId:T.clientId}).then(()=>{M(),i()}).catch(()=>{M(),m()}):(M(),m())}),R=o.useMemo(()=>[{id:"name",label:"Nome",align:"left",sortable:!0,renderComponent:({row:i})=>t.jsxs(l,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[t.jsx(D,{to:`/client/${i==null?void 0:i.id}`,children:i==null?void 0:i.name}),(i==null?void 0:i.description)&&t.jsx($,{title:i==null?void 0:i.description})]})},{id:"created_by_user",visible:!1},{id:"created_at_datetime",label:"Criado por",align:"left",sortable:!0,renderComponent:({row:i})=>{var m,h,j,g,C;return t.jsx(t.Fragment,{children:t.jsxs(l,{sx:{flexDirection:"row",gap:2},children:[t.jsx(l,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:i!=null&&i.created_by_user?t.jsxs(t.Fragment,{children:[t.jsx(p,{alt:(m=i==null?void 0:i.created_by_user)==null?void 0:m.username,src:`${x}/users/${(h=i==null?void 0:i.created_by_user)==null?void 0:h.id}/avatar?size=80`,name:(j=i==null?void 0:i.created_by_user)==null?void 0:j.username}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(g=i==null?void 0:i.created_by_user)==null?void 0:g.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(C=i==null?void 0:i.created_by_user)==null?void 0:C.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(i==null?void 0:i.created_at_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:_(i==null?void 0:i.created_at_datetime)})]})]})})}},{id:"last_modified_by_user",visible:!1},{id:"last_modified_datetime",label:"Modificado pela última vez por",align:"left",sortable:!0,renderComponent:({row:i})=>{var m,h,j,g,C;return t.jsx(t.Fragment,{children:i!=null&&i.last_modified_datetime?t.jsxs(l,{sx:{flexDirection:"row",gap:2},children:[t.jsx(l,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:i!=null&&i.last_modified_by_user?t.jsxs(t.Fragment,{children:[t.jsx(p,{alt:(m=i==null?void 0:i.last_modified_by_user)==null?void 0:m.username,src:`${x}/users/${(h=i==null?void 0:i.last_modified_by_user)==null?void 0:h.id}/avatar?size=80`,name:(j=i==null?void 0:i.last_modified_by_user)==null?void 0:j.username}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(g=i==null?void 0:i.last_modified_by_user)==null?void 0:g.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(C=i==null?void 0:i.last_modified_by_user)==null?void 0:C.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(i==null?void 0:i.last_modified_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:_(i==null?void 0:i.last_modified_datetime)})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Ainda não foi modificado"})})}},{id:"more_options",align:"right",sortable:!1,renderComponent:({row:i})=>t.jsx(K,{mode:"custom",customButton:t.jsx(Q,{title:"Mais opções",sx:{margin:-1},children:t.jsx(V,{children:t.jsx(X,{})})}),children:t.jsx(Z,{buttons:[{label:"Editar",icon:t.jsx(se,{fontSize:"small"}),onClick:()=>I(`/client/${i==null?void 0:i.id}`)},...F!=="Funcionário"?[{label:"Eliminar",icon:t.jsx(w,{fontSize:"small",color:"error"}),color:"error",divider:!0,onClick:()=>q(i==null?void 0:i.id)}]:[]]})})}],[]),U=o.useMemo(()=>[{id:"name",label:"Cliente"},{id:"created_by_user.username",label:"Criado por"},{id:"created_at_datetime",label:"Data de criação",formatter:i=>i?b(i):""},{id:"last_modified_by_user.username",label:"Modificado pela última vez por"},{id:"last_modified_datetime",label:"Última data de modificação",formatter:i=>i?b(i):""}],[]),P=o.useMemo(()=>({row:i})=>{const m=o.useMemo(()=>[{id:"type",label:"Tipo",align:"left",sortable:!0},{id:"contact",label:"Contacto",align:"left",sortable:!0,renderComponent:({row:e})=>t.jsxs(l,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[t.jsx(t.Fragment,{children:z(e==null?void 0:e.contact)}),(e==null?void 0:e.description)&&t.jsx($,{title:e==null?void 0:e.description})]})},{id:"created_by_user",visible:!1},{id:"created_at_datetime",label:"Criado por",align:"left",sortable:!0,renderComponent:({row:e})=>{var s,a,d,c,r;return t.jsx(t.Fragment,{children:t.jsxs(l,{sx:{flexDirection:"row",gap:2},children:[t.jsx(l,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.created_by_user?t.jsxs(t.Fragment,{children:[t.jsx(p,{alt:(s=e==null?void 0:e.created_by_user)==null?void 0:s.username,src:`${x}/users/${(a=e==null?void 0:e.created_by_user)==null?void 0:a.id}/avatar?size=80`,name:(d=e==null?void 0:e.created_by_user)==null?void 0:d.username}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(c=e==null?void 0:e.created_by_user)==null?void 0:c.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.created_by_user)==null?void 0:r.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.created_at_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:_(e==null?void 0:e.created_at_datetime)})]})]})})}},{id:"last_modified_by_user",visible:!1},{id:"last_modified_datetime",label:"Modificado pela última vez por",align:"left",sortable:!0,renderComponent:({row:e})=>{var s,a,d,c,r;return t.jsx(t.Fragment,{children:e!=null&&e.last_modified_datetime?t.jsxs(l,{sx:{flexDirection:"row",gap:2},children:[t.jsx(l,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.last_modified_by_user?t.jsxs(t.Fragment,{children:[t.jsx(p,{alt:(s=e==null?void 0:e.last_modified_by_user)==null?void 0:s.username,src:`${x}/users/${(a=e==null?void 0:e.last_modified_by_user)==null?void 0:a.id}/avatar?size=80`,name:(d=e==null?void 0:e.last_modified_by_user)==null?void 0:d.username}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(c=e==null?void 0:e.last_modified_by_user)==null?void 0:c.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.last_modified_by_user)==null?void 0:r.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.last_modified_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:_(e==null?void 0:e.last_modified_datetime)})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Ainda não foi modificado"})})}}],[]),h=o.useMemo(()=>[{id:"client",label:"Cliente",formatter:()=>i==null?void 0:i.name},{id:"type",label:"Tipo"},{id:"contact",label:"Contacto",formatter:z},{id:"created_by_user.username",label:"Criado por"},{id:"created_at_datetime",label:"Data de criação",formatter:e=>e?b(e):""},{id:"last_modified_by_user.username",label:"Modificado pela última vez por"},{id:"last_modified_datetime",label:"Última data de modificação",formatter:e=>e?b(e):""}],[]),j=o.useMemo(()=>[{id:"country",label:"País",align:"left",sortable:!0},{id:"city",label:"Cidade",align:"left",sortable:!0},{id:"locality",label:"Localidade",align:"left",sortable:!0},{id:"address",label:"Morada",align:"left",sortable:!0},{id:"postal_code",label:"Código postal",align:"left",sortable:!0},{id:"created_by_user",visible:!1},{id:"created_at_datetime",label:"Criado por",align:"left",sortable:!0,renderComponent:({row:e})=>{var s,a,d,c,r;return t.jsx(t.Fragment,{children:t.jsxs(l,{sx:{flexDirection:"row",gap:2},children:[t.jsx(l,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.created_by_user?t.jsxs(t.Fragment,{children:[t.jsx(p,{alt:(s=e==null?void 0:e.created_by_user)==null?void 0:s.username,src:`${x}/users/${(a=e==null?void 0:e.created_by_user)==null?void 0:a.id}/avatar?size=80`,name:(d=e==null?void 0:e.created_by_user)==null?void 0:d.username}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(c=e==null?void 0:e.created_by_user)==null?void 0:c.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.created_by_user)==null?void 0:r.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.created_at_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:_(e==null?void 0:e.created_at_datetime)})]})]})})}},{id:"last_modified_by_user",visible:!1},{id:"last_modified_datetime",label:"Modificado pela última vez por",align:"left",sortable:!0,renderComponent:({row:e})=>{var s,a,d,c,r;return t.jsx(t.Fragment,{children:e!=null&&e.last_modified_datetime?t.jsxs(l,{sx:{flexDirection:"row",gap:2},children:[t.jsx(l,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.last_modified_by_user?t.jsxs(t.Fragment,{children:[t.jsx(p,{alt:(s=e==null?void 0:e.last_modified_by_user)==null?void 0:s.username,src:`${x}/users/${(a=e==null?void 0:e.last_modified_by_user)==null?void 0:a.id}/avatar?size=80`,name:(d=e==null?void 0:e.last_modified_by_user)==null?void 0:d.username}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(c=e==null?void 0:e.last_modified_by_user)==null?void 0:c.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.last_modified_by_user)==null?void 0:r.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.last_modified_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:_(e==null?void 0:e.last_modified_datetime)})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Ainda não foi modificado"})})}}],[]),g=o.useMemo(()=>[{id:"client",label:"Cliente",formatter:()=>i==null?void 0:i.name},{id:"country",label:"País"},{id:"city",label:"Cidade"},{id:"locality",label:"Localidade"},{id:"address",label:"Morada"},{id:"postal_code",label:"Código postal"},{id:"created_by_user.username",label:"Criado por"},{id:"created_at_datetime",label:"Data de criação",formatter:e=>e?b(e):""},{id:"last_modified_by_user.username",label:"Modificado pela última vez por"},{id:"last_modified_datetime",label:"Última data de modificação",formatter:e=>e?b(e):""}],[]),C=o.useMemo(()=>[{id:"type.name",label:"Tipo",align:"left",sortable:!0,renderComponent:({row:e})=>{var s;return t.jsx(D,{to:`/equipment/${e==null?void 0:e.id}`,children:(s=e==null?void 0:e.type)==null?void 0:s.name})}},{id:"brand.name",label:"Marca ",align:"left",sortable:!0,renderComponent:({row:e})=>{var s;return t.jsx(D,{to:`/equipment/${e==null?void 0:e.id}`,children:(s=e==null?void 0:e.brand)==null?void 0:s.name})}},{id:"model.name",label:"Modelo",align:"left",sortable:!0,renderComponent:({row:e})=>{var s;return t.jsx(D,{to:`/equipment/${e==null?void 0:e.id}`,children:(s=e==null?void 0:e.model)==null?void 0:s.name})}},{id:"sn",label:"Número de série",align:"left",sortable:!0,renderComponent:({row:e})=>t.jsx(D,{to:`/equipment/${e==null?void 0:e.id}`,children:e==null?void 0:e.sn})},{id:"created_by_user",visible:!1},{id:"created_at_datetime",label:"Criado por",align:"left",sortable:!0,renderComponent:({row:e})=>{var s,a,d;return t.jsx(t.Fragment,{children:t.jsxs(l,{sx:{flexDirection:"row",gap:2},children:[t.jsx(l,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.created_by_user?t.jsxs(t.Fragment,{children:[t.jsx(p,{alt:(s=e==null?void 0:e.created_by_user)==null?void 0:s.username,src:`${x}/users/${(a=e==null?void 0:e.created_by_user)==null?void 0:a.id}/avatar?size=80`,name:(d=e==null?void 0:e.created_by_user)==null?void 0:d.username}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:e==null?void 0:e.created_by_user.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:e==null?void 0:e.created_by_user.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.created_at_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:_(e==null?void 0:e.created_at_datetime)})]})]})})}},{id:"last_modified_by_user",visible:!1},{id:"last_modified_datetime",label:"Modificado pela última vez por",align:"left",sortable:!0,renderComponent:({row:e})=>{var s,a,d,c,r;return t.jsx(t.Fragment,{children:e!=null&&e.last_modified_datetime?t.jsxs(l,{sx:{flexDirection:"row",gap:2},children:[t.jsx(l,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.last_modified_by_user?t.jsxs(t.Fragment,{children:[t.jsx(p,{alt:(s=e==null?void 0:e.last_modified_by_user)==null?void 0:s.username,src:`${x}/users/${(a=e==null?void 0:e.last_modified_by_user)==null?void 0:a.id}/avatar?size=80`,name:(d=e==null?void 0:e.last_modified_by_user)==null?void 0:d.username}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(c=e==null?void 0:e.last_modified_by_user)==null?void 0:c.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.last_modified_by_user)==null?void 0:r.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.last_modified_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:_(e==null?void 0:e.last_modified_datetime)})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Ainda não foi modificado"})})}}],[]),B=o.useMemo(()=>[{id:"client",label:"Cliente",formatter:()=>i==null?void 0:i.name},{id:"type.name",label:"Tipo"},{id:"brand.name",label:"Marca"},{id:"model.name",label:"Modelo"},{id:"sn",label:"Número de série"},{id:"created_by_user.username",label:"Criado por"},{id:"created_at_datetime",label:"Data de criação",formatter:e=>e?b(e):""},{id:"last_modified_by_user.username",label:"Modificado pela última vez por"},{id:"last_modified_datetime",label:"Última data de modificação",formatter:e=>e?b(e):""}],[]),k=o.useMemo(()=>[{id:"type",label:"Atividade",align:"left",sortable:!0},{id:"responsible_user",visible:!1},{id:"created_at_datetime",label:"Responsável",align:"left",sortable:!0,renderComponent:({row:e})=>{var s,a,d,c,r;return t.jsx(t.Fragment,{children:t.jsxs(l,{sx:{flexDirection:"row",gap:2},children:[t.jsx(l,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.responsible_user?t.jsxs(t.Fragment,{children:[t.jsx(p,{alt:(s=e==null?void 0:e.responsible_user)==null?void 0:s.username,src:`${x}/users/${(a=e==null?void 0:e.responsible_user)==null?void 0:a.id}/avatar?size=80`,name:(d=e==null?void 0:e.responsible_user)==null?void 0:d.username}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(c=e==null?void 0:e.responsible_user)==null?void 0:c.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.responsible_user)==null?void 0:r.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.created_at_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:_(e==null?void 0:e.created_at_datetime)})]})]})})}}],[]),Y=o.useMemo(()=>({row:e})=>{const s=o.useMemo(()=>[{id:"field",label:"Campo",align:"left",sortable:!0},{id:"before",label:"Antes",align:"left",sortable:!0,renderComponent:({row:a})=>(a==null?void 0:a.field)==="Descrição"&&a!=null&&a.before?t.jsx(v,{sx:{maxHeight:300,overflow:"hidden",overflowY:"auto",borderRadius:"8px",border:"1px solid var(--elevation-level5)",padding:2},children:t.jsx("span",{className:"table-cell-tiptap-editor",dangerouslySetInnerHTML:O(a==null?void 0:a.before)})}):(a==null?void 0:a.field)==="Contacto"&&a!=null&&a.before?z(a==null?void 0:a.before):a!=null&&a.before?a==null?void 0:a.before:t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})},{id:"after",label:"Depois",align:"left",sortable:!0,renderComponent:({row:a})=>(a==null?void 0:a.field)==="Descrição"&&a!=null&&a.after?t.jsx(v,{sx:{maxHeight:300,overflow:"hidden",overflowY:"auto",borderRadius:"8px",border:"1px solid var(--elevation-level5)",padding:2},children:t.jsx("span",{className:"table-cell-tiptap-editor",dangerouslySetInnerHTML:O(a==null?void 0:a.after)})}):(a==null?void 0:a.field)==="Contacto"&&a!=null&&a.after?z(a==null?void 0:a.after):a!=null&&a.after?a==null?void 0:a.after:t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})},{id:"changed",label:"Alterado",align:"left",sortable:!0,renderComponent:({row:a})=>t.jsx(t.Fragment,{children:a!=null&&a.changed?t.jsx(de,{color:"success"}):t.jsx(ee,{color:"error"})})}],[]);return t.jsx(v,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden",margin:3},children:t.jsx(y,{data:(e==null?void 0:e.details)??[],columns:s})})},[]);return t.jsxs(l,{sx:{margin:3,gap:3},children:[t.jsxs(v,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:[t.jsx(S,{title:"Contactos",description:"Contactos do cliente",icon:t.jsx(ce,{})}),t.jsx(y,{mode:"datatable",data:(i==null?void 0:i.contacts)??[],columns:m,exportFileName:"contactos_cliente",exportColumns:h})]}),t.jsxs(v,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:[t.jsx(S,{title:"Moradas",description:"Moradas do cliente",icon:t.jsx(re,{})}),t.jsx(y,{mode:"datatable",data:(i==null?void 0:i.addresses)??[],columns:j,exportFileName:"moradas_cliente",exportColumns:g})]}),t.jsxs(v,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:[t.jsx(S,{title:"Equipamentos",description:"Equipamentos do cliente",icon:t.jsx(te,{})}),t.jsx(y,{mode:"datatable",data:(i==null?void 0:i.equipments)??[],columns:C,exportFileName:"equipamentos_cliente",exportColumns:B})]}),F!=="Funcionário"&&t.jsxs(v,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:[t.jsx(S,{title:"Histórico de Atividades",description:"Histórico de atividades sobre o cliente",icon:t.jsx(oe,{})}),t.jsx(y,{mode:"datatable",data:(i==null?void 0:i.interactions_history)??[],columns:k,ExpandableContentComponent:Y})]})]})},[]);return t.jsxs(v,{children:[t.jsx(ie,{isLoading:H,LoadingComponent:t.jsx(ae,{mode:"datatable"}),LoadedComponent:t.jsx(y,{mode:"datatable",data:A??[],columns:R,exportFileName:"clientes",exportColumns:U,ExpandableContentComponent:P})}),t.jsx(ne,{mode:"delete",title:"Eliminar Cliente",open:T.isOpen,onClose:M,onSubmit:N,description:"Tem a certeza que deseja eliminar este cliente?",subDescription:"Ao eliminar este cliente, todos os dados relacionados, incluindo contactos, moradas, equipamentos e reparações associadas, serão removidos de forma permanente."})]})};export{je as default};
