const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RepairStamp-BmhfZizL.js","assets/index-QasZhORg.js","assets/index-DOidGzGz.css"])))=>i.map(i=>d[i]);
import{q as Be,j as s,r as De,bM as Ue,bN as Ge,_ as $e,f as Ye,H as Ke,aB as Qe,S as me,B as Ae,aZ as se,b6 as ie,aO as Ze,G as We,h as Se,a7 as qe,b7 as Je,aL as Xe,F as Ce,b1 as et,bO as Ie,ba as Pe,L as tt,aj as nt,s as ot}from"./index-QasZhORg.js";import{u as rt,b as st,a as it,C as U,t as at}from"./index-CO9l3Whn.js";import{u as lt}from"./repair-zwE_KJbM.js";import{u as ct}from"./useRepair-CKNzoFdU.js";import{D as Oe}from"./DatePicker-DypqNQgr.js";import{g as ut}from"./getValidChipColor-D8WVyITM.js";import{T as dt,a as Fe}from"./Tabs-DeWGsiGp.js";import{S as ft}from"./Switch-CATYwO4y.js";import"./repair-wd4kSyCe.js";const pt=Be(s.jsx("path",{d:"M18 16h-2v-1H8v1H6v-1H2v5h20v-5h-4zm2-8h-3V6c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v4h4v-2h2v2h8v-2h2v2h4v-4c0-1.1-.9-2-2-2m-5 0H9V6h6z"}),"HomeRepairService"),ht=Be(s.jsx("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7"}),"LocalOffer");var He={exports:{}};(function(i,Te){(function(ye,w){i.exports=w(De,Ue)})(typeof self<"u"?self:Ge,function(ye,w){return function(){var be={328:function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0}),p.PrintContextConsumer=p.PrintContext=void 0;var C=f(496),I=Object.prototype.hasOwnProperty.call(C,"createContext");p.PrintContext=I?C.createContext({}):null,p.PrintContextConsumer=p.PrintContext?p.PrintContext.Consumer:function(){return null}},428:function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0}),p.ReactToPrint=void 0;var C=f(316),I=f(496),G=f(190),j=f(328),$=f(940),oe=function(q){function Y(){var c=q.apply(this,C.__spreadArray([],C.__read(arguments),!1))||this;return c.startPrint=function(h){var g=c.props,A=g.onAfterPrint,M=g.onPrintError,O=g.print,k=g.documentTitle;setTimeout(function(){var N,W;if(h.contentWindow)if(h.contentWindow.focus(),O)O(h).then(function(){return A==null?void 0:A()}).then(function(){return c.handleRemoveIframe()}).catch(function(Q){M?M("print",Q):c.logMessages(["An error was thrown by the specified `print` function"])});else{if(h.contentWindow.print){var K=(W=(N=h.contentDocument)===null||N===void 0?void 0:N.title)!==null&&W!==void 0?W:"",D=h.ownerDocument.title;k&&(h.ownerDocument.title=k,h.contentDocument&&(h.contentDocument.title=k)),h.contentWindow.print(),k&&(h.ownerDocument.title=D,h.contentDocument&&(h.contentDocument.title=K))}else c.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);A==null||A(),c.handleRemoveIframe()}else c.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},c.triggerPrint=function(h){var g=c.props,A=g.onBeforePrint,M=g.onPrintError;if(A){var O=A();O&&typeof O.then=="function"?O.then(function(){c.startPrint(h)}).catch(function(k){M&&M("onBeforePrint",k)}):c.startPrint(h)}else c.startPrint(h)},c.handlePrint=function(h){var g=c.props,A=g.bodyClass,M=g.content,O=g.copyStyles,k=g.fonts,N=g.pageStyle,W=g.nonce,K=typeof h=="function"?h():null;if(K&&typeof M=="function"&&c.logMessages(['"react-to-print" received a `content` prop and a content param passed the callback return by `useReactToPrint. The `content` prop will be ignored.'],"warning"),K||typeof M!="function"||(K=M()),K!==void 0)if(K!==null){var D=document.createElement("iframe");D.width="".concat(document.documentElement.clientWidth,"px"),D.height="".concat(document.documentElement.clientHeight,"px"),D.style.position="absolute",D.style.top="-".concat(document.documentElement.clientHeight+100,"px"),D.style.left="-".concat(document.documentElement.clientWidth+100,"px"),D.id="printWindow",D.srcdoc="<!DOCTYPE html>";var Q=(0,G.findDOMNode)(K);if(Q){var Z=Q.cloneNode(!0),ae=Z instanceof Text,xe=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),ue=ae?[]:Z.querySelectorAll("img"),de=ae?[]:Z.querySelectorAll("video"),we=k?k.length:0;c.numResourcesToLoad=xe.length+ue.length+de.length+we,c.resourcesLoaded=[],c.resourcesErrored=[];var T=function(X,ne){c.resourcesLoaded.includes(X)?c.logMessages(["Tried to mark a resource that has already been handled",X],"debug"):(ne?(c.logMessages(C.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],C.__read(ne),!1)),c.resourcesErrored.push(X)):c.resourcesLoaded.push(X),c.resourcesLoaded.length+c.resourcesErrored.length===c.numResourcesToLoad&&c.triggerPrint(D))};D.onload=function(){var X,ne,fe,pe;D.onload=null;var E=D.contentDocument||((ne=D.contentWindow)===null||ne===void 0?void 0:ne.document);if(E){E.body.appendChild(Z),k&&(!((fe=D.contentDocument)===null||fe===void 0)&&fe.fonts&&(!((pe=D.contentWindow)===null||pe===void 0)&&pe.FontFace)?k.forEach(function(V){var _=new FontFace(V.family,V.source,{weight:V.weight,style:V.style});D.contentDocument.fonts.add(_),_.loaded.then(function(){T(_)}).catch(function(S){T(_,["Failed loading the font:",_,"Load error:",S])})}):(k.forEach(function(V){return T(V)}),c.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var ve=typeof N=="function"?N():N;if(typeof ve!="string")c.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof ve,'". Styles from `pageStyle` will not be applied.')]);else{var he=E.createElement("style");W&&(he.setAttribute("nonce",W),E.head.setAttribute("nonce",W)),he.appendChild(E.createTextNode(ve)),E.head.appendChild(he)}if(A&&(X=E.body.classList).add.apply(X,C.__spreadArray([],C.__read(A.split(" ")),!1)),!ae){for(var e=ae?[]:Q.querySelectorAll("canvas"),t=E.querySelectorAll("canvas"),n=0;n<e.length;++n){var o=e[n],r=t[n].getContext("2d");r&&r.drawImage(o,0,0)}var d=function(V){var _=ue[V],S=_.getAttribute("src");if(S){var H=new Image;H.onload=function(){return T(_)},H.onerror=function(ce,ge,a,v,y){return T(_,["Error loading <img>",_,"Error",y])},H.src=S}else T(_,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',_])};for(n=0;n<ue.length;n++)d(n);var l=function(V){var _=de[V];_.preload="auto";var S=_.getAttribute("poster");if(S){var H=new Image;H.onload=function(){return T(_)},H.onerror=function(ce,ge,a,v,y){return T(_,["Error loading video poster",S,"for video",_,"Error:",y])},H.src=S}else _.readyState>=2?T(_):(_.onloadeddata=function(){return T(_)},_.onerror=function(ce,ge,a,v,y){return T(_,["Error loading video",_,"Error",y])},_.onstalled=function(){return T(_,["Loading video stalled, skipping",_])})};for(n=0;n<de.length;n++)l(n);var m="input",R=Q.querySelectorAll(m),L=E.querySelectorAll(m);for(n=0;n<R.length;n++)L[n].value=R[n].value;var u="input[type=checkbox],input[type=radio]",x=Q.querySelectorAll(u),F=E.querySelectorAll(u);for(n=0;n<x.length;n++)F[n].checked=x[n].checked;var B="select",J=Q.querySelectorAll(B),re=E.querySelectorAll(B);for(n=0;n<J.length;n++)re[n].value=J[n].value}if(O)for(var ee=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']"),le=function(V,_){var S=ee[V];if(S.tagName.toLowerCase()==="style"){var H=E.createElement(S.tagName),ce=S.sheet;if(ce){var ge="";try{for(var a=ce.cssRules.length,v=0;v<a;++v)typeof ce.cssRules[v].cssText=="string"&&(ge+="".concat(ce.cssRules[v].cssText,`\r
`))}catch{c.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",S],"warning")}H.setAttribute("id","react-to-print-".concat(V)),W&&H.setAttribute("nonce",W),H.appendChild(E.createTextNode(ge)),E.head.appendChild(H)}}else if(S.getAttribute("href"))if(S.hasAttribute("disabled"))c.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",S],"warning"),T(S);else{for(var y=E.createElement(S.tagName),z=(v=0,S.attributes.length);v<z;++v){var P=S.attributes[v];P&&y.setAttribute(P.nodeName,P.nodeValue||"")}y.onload=function(){return T(y)},y.onerror=function(Re,je,Le,Me,ze){return T(y,["Failed to load",y,"Error:",ze])},W&&y.setAttribute("nonce",W),E.head.appendChild(y)}else c.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",S],"warning"),T(S)},ke=(n=0,ee.length);n<ke;++n)le(n)}c.numResourcesToLoad!==0&&O||c.triggerPrint(D)},c.handleRemoveIframe(!0),document.body.appendChild(D)}else c.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else c.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else c.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},c.handleRemoveIframe=function(h){var g=c.props.removeAfterPrint;if(h||g){var A=document.getElementById("printWindow");A&&document.body.removeChild(A)}},c.logMessages=function(h,g){g===void 0&&(g="error"),c.props.suppressErrors||(g==="error"?console.error(h):g==="warning"?console.warn(h):g==="debug"&&console.debug(h))},c}return C.__extends(Y,q),Y.prototype.handleClick=function(c,h){var g=this,A=this.props,M=A.onBeforeGetContent,O=A.onPrintError;if(M){var k=M();k&&typeof k.then=="function"?k.then(function(){return g.handlePrint(h)}).catch(function(N){O&&O("onBeforeGetContent",N)}):this.handlePrint(h)}else this.handlePrint(h)},Y.prototype.render=function(){var c=this.props,h=c.children,g=c.trigger;if(g)return I.cloneElement(g(),{onClick:this.handleClick.bind(this)});if(!j.PrintContext)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var A={handlePrint:this.handleClick.bind(this)};return I.createElement(j.PrintContext.Provider,{value:A},h)},Y.defaultProps=$.defaultProps,Y}(I.Component);p.ReactToPrint=oe},940:function(b,p){Object.defineProperty(p,"__esModule",{value:!0}),p.defaultProps=void 0,p.defaultProps={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1}},892:function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0}),p.useReactToPrint=void 0;var C=f(316),I=f(496),G=f(428),j=f(940),$=f(860),oe=Object.prototype.hasOwnProperty.call(I,"useMemo")&&Object.prototype.hasOwnProperty.call(I,"useCallback");p.useReactToPrint=function(q){if(!oe)return q.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var Y=I.useMemo(function(){return new G.ReactToPrint(C.__assign(C.__assign({},j.defaultProps),q))},[q]);return I.useCallback(function(c,h){return(0,$.wrapCallbackWithArgs)(Y,Y.handleClick,h)(c)},[Y])}},860:function(b,p,f){Object.defineProperty(p,"__esModule",{value:!0}),p.wrapCallbackWithArgs=void 0;var C=f(316);p.wrapCallbackWithArgs=function(I,G){for(var j=[],$=2;$<arguments.length;$++)j[$-2]=arguments[$];return function(){for(var oe=[],q=0;q<arguments.length;q++)oe[q]=arguments[q];return G.apply(I,C.__spreadArray(C.__spreadArray([],C.__read(oe),!1),C.__read(j),!1))}}},496:function(b){b.exports=ye},190:function(b){b.exports=w},316:function(b,p,f){f.r(p),f.d(p,{__addDisposableResource:function(){return E},__assign:function(){return G},__asyncDelegator:function(){return xe},__asyncGenerator:function(){return ae},__asyncValues:function(){return ue},__await:function(){return Z},__awaiter:function(){return A},__classPrivateFieldGet:function(){return ne},__classPrivateFieldIn:function(){return pe},__classPrivateFieldSet:function(){return fe},__createBinding:function(){return O},__decorate:function(){return $},__disposeResources:function(){return he},__esDecorate:function(){return q},__exportStar:function(){return k},__extends:function(){return I},__generator:function(){return M},__importDefault:function(){return X},__importStar:function(){return T},__makeTemplateObject:function(){return de},__metadata:function(){return g},__param:function(){return oe},__propKey:function(){return c},__read:function(){return W},__rest:function(){return j},__runInitializers:function(){return Y},__setFunctionName:function(){return h},__spread:function(){return K},__spreadArray:function(){return Q},__spreadArrays:function(){return D},__values:function(){return N}});var C=function(e,t){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])},C(e,t)};function I(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}C(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var G=function(){return G=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},G.apply(this,arguments)};function j(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function $(e,t,n,o){var r,d=arguments.length,l=d<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,n):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,o);else for(var m=e.length-1;m>=0;m--)(r=e[m])&&(l=(d<3?r(l):d>3?r(t,n,l):r(t,n))||l);return d>3&&l&&Object.defineProperty(t,n,l),l}function oe(e,t){return function(n,o){t(n,o,e)}}function q(e,t,n,o,r,d){function l(le){if(le!==void 0&&typeof le!="function")throw new TypeError("Function expected");return le}for(var m,R=o.kind,L=R==="getter"?"get":R==="setter"?"set":"value",u=!t&&e?o.static?e:e.prototype:null,x=t||(u?Object.getOwnPropertyDescriptor(u,o.name):{}),F=!1,B=n.length-1;B>=0;B--){var J={};for(var re in o)J[re]=re==="access"?{}:o[re];for(var re in o.access)J.access[re]=o.access[re];J.addInitializer=function(le){if(F)throw new TypeError("Cannot add initializers after decoration has completed");d.push(l(le||null))};var ee=(0,n[B])(R==="accessor"?{get:x.get,set:x.set}:x[L],J);if(R==="accessor"){if(ee===void 0)continue;if(ee===null||typeof ee!="object")throw new TypeError("Object expected");(m=l(ee.get))&&(x.get=m),(m=l(ee.set))&&(x.set=m),(m=l(ee.init))&&r.unshift(m)}else(m=l(ee))&&(R==="field"?r.unshift(m):x[L]=m)}u&&Object.defineProperty(u,o.name,x),F=!0}function Y(e,t,n){for(var o=arguments.length>2,r=0;r<t.length;r++)n=o?t[r].call(e,n):t[r].call(e);return o?n:void 0}function c(e){return typeof e=="symbol"?e:"".concat(e)}function h(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function g(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function A(e,t,n,o){return new(n||(n=Promise))(function(r,d){function l(L){try{R(o.next(L))}catch(u){d(u)}}function m(L){try{R(o.throw(L))}catch(u){d(u)}}function R(L){var u;L.done?r(L.value):(u=L.value,u instanceof n?u:new n(function(x){x(u)})).then(l,m)}R((o=o.apply(e,t||[])).next())})}function M(e,t){var n,o,r,d,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(R){return function(L){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,u[0]&&(l=0)),l;)try{if(n=1,o&&(r=2&u[0]?o.return:u[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,u[1])).done)return r;switch(o=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return l.label++,{value:u[1],done:!1};case 5:l.label++,o=u[1],u=[0];continue;case 7:u=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||u[0]!==6&&u[0]!==2)){l=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){l.label=u[1];break}if(u[0]===6&&l.label<r[1]){l.label=r[1],r=u;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(u);break}r[2]&&l.ops.pop(),l.trys.pop();continue}u=t.call(e,l)}catch(x){u=[6,x],o=0}finally{n=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([R,L])}}}var O=Object.create?function(e,t,n,o){o===void 0&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]};function k(e,t){for(var n in e)n==="default"||Object.prototype.hasOwnProperty.call(t,n)||O(t,e,n)}function N(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var o,r,d=n.call(e),l=[];try{for(;(t===void 0||t-- >0)&&!(o=d.next()).done;)l.push(o.value)}catch(m){r={error:m}}finally{try{o&&!o.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return l}function K(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(W(arguments[t]));return e}function D(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var d=arguments[t],l=0,m=d.length;l<m;l++,r++)o[r]=d[l];return o}function Q(e,t,n){if(n||arguments.length===2)for(var o,r=0,d=t.length;r<d;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Z(e){return this instanceof Z?(this.v=e,this):new Z(e)}function ae(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),d=[];return o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o;function l(x){r[x]&&(o[x]=function(F){return new Promise(function(B,J){d.push([x,F,B,J])>1||m(x,F)})})}function m(x,F){try{(B=r[x](F)).value instanceof Z?Promise.resolve(B.value.v).then(R,L):u(d[0][2],B)}catch(J){u(d[0][3],J)}var B}function R(x){m("next",x)}function L(x){m("throw",x)}function u(x,F){x(F),d.shift(),d.length&&m(d[0][0],d[0][1])}}function xe(e){var t,n;return t={},o("next"),o("throw",function(r){throw r}),o("return"),t[Symbol.iterator]=function(){return this},t;function o(r,d){t[r]=e[r]?function(l){return(n=!n)?{value:Z(e[r](l)),done:!1}:d?d(l):l}:d}}function ue(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=N(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(r){t[r]=e[r]&&function(d){return new Promise(function(l,m){(function(R,L,u,x){Promise.resolve(x).then(function(F){R({value:F,done:u})},L)})(l,m,(d=e[r](d)).done,d.value)})}}}function de(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var we=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function T(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&O(t,e,n);return we(t,e),t}function X(e){return e&&e.__esModule?e:{default:e}}function ne(e,t,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(e):o?o.value:t.get(e)}function fe(e,t,n,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n}function pe(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function E(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=t[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=t[Symbol.dispose]}if(typeof o!="function")throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:o,async:n})}else n&&e.stack.push({async:!0});return t}var ve=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var o=new Error(n);return o.name="SuppressedError",o.error=e,o.suppressed=t,o};function he(e){function t(n){e.error=e.hasError?new ve(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}return function n(){for(;e.stack.length;){var o=e.stack.pop();try{var r=o.dispose&&o.dispose.call(o.value);if(o.async)return Promise.resolve(r).then(n,function(d){return t(d),n()})}catch(d){t(d)}}if(e.hasError)throw e.error}()}p.default={__extends:I,__assign:G,__rest:j,__decorate:$,__param:oe,__metadata:g,__awaiter:A,__generator:M,__createBinding:O,__exportStar:k,__values:N,__read:W,__spread:K,__spreadArrays:D,__spreadArray:Q,__await:Z,__asyncGenerator:ae,__asyncDelegator:xe,__asyncValues:ue,__makeTemplateObject:de,__importStar:T,__importDefault:X,__classPrivateFieldGet:ne,__classPrivateFieldSet:fe,__classPrivateFieldIn:pe,__addDisposableResource:E,__disposeResources:he}}},Ee={};function te(b){var p=Ee[b];if(p!==void 0)return p.exports;var f=Ee[b]={exports:{}};return be[b](f,f.exports,te),f.exports}te.d=function(b,p){for(var f in p)te.o(p,f)&&!te.o(b,f)&&Object.defineProperty(b,f,{enumerable:!0,get:p[f]})},te.o=function(b,p){return Object.prototype.hasOwnProperty.call(b,p)},te.r=function(b){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})};var _e={};return function(){var b=_e;Object.defineProperty(b,"__esModule",{value:!0}),b.useReactToPrint=b.ReactToPrint=b.PrintContextConsumer=void 0;var p=te(328);Object.defineProperty(b,"PrintContextConsumer",{enumerable:!0,get:function(){return p.PrintContextConsumer}});var f=te(428);Object.defineProperty(b,"ReactToPrint",{enumerable:!0,get:function(){return f.ReactToPrint}});var C=te(892);Object.defineProperty(b,"useReactToPrint",{enumerable:!0,get:function(){return C.useReactToPrint}});var I=te(428);b.default=I.ReactToPrint}(),_e}()})})(He);var mt=He.exports;const vt=De.lazy(()=>$e(()=>import("./RepairStamp-BmhfZizL.js"),__vite__mapDeps([0,1,2]))),Ve=i=>{const{children:Te,value:ye,index:w,...be}=i;return s.jsx(Ae,{sx:{margin:3},role:"tabpanel",hidden:ye!==w,id:`repair-tabpanel-${w}`,"aria-labelledby":`repair-tab-${w}`,...be,children:ye===w&&Te})},Ne=i=>({id:`repair-tab-${i}`,"aria-controls":`repair-tabpanel-${i}`}),Dt=({repair:i,isLoading:Te,isError:ye})=>{var W,K,D,Q,Z,ae,xe,ue,de,we,T,X,ne,fe,pe,E,ve,he,e,t,n,o,r,d,l,m,R,L,u,x,F,B,J,re,ee,le,ke,V,_,S,H,ce,ge;const w=!Te&&!ye,[be,Ee]=De.useState(0),te=(a,v)=>{Ee(v)},_e=De.useRef(null),b=De.useCallback(()=>_e.current,[_e.current]),p=mt.useReactToPrint({content:b}),{control:f,handleSubmit:C,reset:I,getValues:G,formState:{errors:j}}=rt({resolver:at(lt)}),$={statusId:((K=(W=i==null?void 0:i[0])==null?void 0:W.status)==null?void 0:K.id)||"",entryDatetime:(D=i==null?void 0:i[0])!=null&&D.entry_datetime?new Date((Q=i==null?void 0:i[0])==null?void 0:Q.entry_datetime):null,entryAccessories:((ae=(Z=i==null?void 0:i[0])==null?void 0:Z.entry_accessories)==null?void 0:ae.map(a=>a.id))||[],entryAccessoriesDescription:((xe=i==null?void 0:i[0])==null?void 0:xe.entry_accessories_description)||"",entryReportedIssues:((de=(ue=i==null?void 0:i[0])==null?void 0:ue.entry_reported_issues)==null?void 0:de.map(a=>a.id))||[],entryReportedIssuesDescription:((we=i==null?void 0:i[0])==null?void 0:we.entry_reported_issues_description)||"",entryDescription:((T=i==null?void 0:i[0])==null?void 0:T.entry_description)||"",interventionWorksDone:((ne=(X=i==null?void 0:i[0])==null?void 0:X.intervention_works_done)==null?void 0:ne.map(a=>a.id))||[],interventionWorksDoneDescription:((fe=i==null?void 0:i[0])==null?void 0:fe.intervention_works_done_description)||"",interventionAccessoriesUsed:((E=(pe=i==null?void 0:i[0])==null?void 0:pe.intervention_accessories_used)==null?void 0:E.map(a=>a.id))||[],interventionAccessoriesUsedDescription:((ve=i==null?void 0:i[0])==null?void 0:ve.intervention_accessories_used_description)||"",conclusionDatetime:(he=i==null?void 0:i[0])!=null&&he.conclusion_datetime?new Date((e=i==null?void 0:i[0])==null?void 0:e.conclusion_datetime):null,deliveryDatetime:(t=i==null?void 0:i[0])!=null&&t.delivery_datetime?new Date((n=i==null?void 0:i[0])==null?void 0:n.delivery_datetime):null,isClientNotified:!!((o=i==null?void 0:i[0])!=null&&o.is_client_notified)||!1,interventionDescription:((r=i==null?void 0:i[0])==null?void 0:r.intervention_description)||""},{isDirty:oe}=st({control:f}),q=()=>!oe;De.useEffect(()=>{w&&i&&i[0]&&I($)},[w,i]);const{findAllRepairStatuses:Y,findAllEntryAccessories:c,findAllEntryReportedIssues:h,findAllInterventionWorksDone:g,findAllInterventionAccessoriesUsed:A,updateRepair:M}=ct(),O=async a=>{!w||q()||await M.mutateAsync({repairId:i[0].id,...a,entryAccessoriesDescription:a.entryAccessoriesDescription===""?null:a.entryAccessoriesDescription,entryReportedIssuesDescription:a.entryReportedIssuesDescription===""?null:a.entryReportedIssuesDescription,entryDescription:a.entryDescription===""?null:a.entryDescription,interventionWorksDoneDescription:a.interventionWorksDoneDescription===""?null:a.interventionWorksDoneDescription,interventionAccessoriesUsedDescription:a.interventionAccessoriesUsedDescription===""?null:a.interventionAccessoriesUsedDescription,interventionDescription:a.interventionDescription===""?null:a.interventionDescription}).then(()=>nt("Reparação atualizada com sucesso!")).catch(v=>{if(v.error.code==="EQU-008"){setError("sn",{type:"manual",message:"Número de série já existente"});return}ot("Erro ao atualizar reparação!")})},k=[{label:"Cliente",link:`/client/${(l=(d=i==null?void 0:i[0].equipment)==null?void 0:d.client)==null?void 0:l.id}`,value:(R=(m=i==null?void 0:i[0].equipment)==null?void 0:m.client)==null?void 0:R.name,description:(u=(L=i==null?void 0:i[0].equipment)==null?void 0:L.client)==null?void 0:u.description},{label:"Equipamento",link:`/equipment/${(x=i==null?void 0:i[0].equipment)==null?void 0:x.id}`,value:`${(B=(F=i==null?void 0:i[0].equipment)==null?void 0:F.type)==null?void 0:B.name} | ${(re=(J=i==null?void 0:i[0].equipment)==null?void 0:J.brand)==null?void 0:re.name} ${(le=(ee=i==null?void 0:i[0].equipment)==null?void 0:ee.model)==null?void 0:le.name}`,description:(ke=i==null?void 0:i[0].equipment)==null?void 0:ke.description}],N=it({control:f,name:"isClientNotified"});return s.jsxs(Ye,{elevation:1,children:[s.jsx(Ke,{title:"Detalhes",description:"Dados da reparação",icon:s.jsx(Qe,{})}),s.jsx("form",{onSubmit:C(O),children:s.jsxs(me,{children:[s.jsxs(me,{children:[s.jsx(Ae,{sx:{paddingInline:3,paddingTop:2},children:s.jsx(se,{isLoading:!w,LoadingComponent:s.jsx(ie,{variant:"rounded",width:70,height:32}),LoadedComponent:s.jsx(Ze,{label:(_=(V=i==null?void 0:i[0])==null?void 0:V.status)==null?void 0:_.name,color:ut((H=(S=i==null?void 0:i[0])==null?void 0:S.status)==null?void 0:H.color)})})}),s.jsx(We,{container:!0,spacing:2,sx:{paddingInline:3},children:k.map((a,v)=>s.jsx(We,{item:!0,xs:12,children:s.jsx(se,{isLoading:!w,LoadingComponent:s.jsx(ie,{variant:"rounded",width:"100%",height:52}),LoadedComponent:s.jsxs(me,{children:[s.jsx(Se,{variant:"p",component:"p",sx:{color:"var(--outline)",fontWeight:550},children:a.label}),a.value?s.jsxs(me,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[s.jsx(Se,{variant:"p",component:"p",children:a.isHtml?a.link?s.jsx(qe,{to:a.link,dangerouslySetInnerHTML:{__html:a.value}}):s.jsx("span",{dangerouslySetInnerHTML:{__html:a.value}}):a.link?s.jsx(qe,{to:a.link,children:a.value}):s.jsx("span",{children:a.value})}),a.description&&s.jsx(Je,{fontSize:"small",title:a.description})]}):s.jsx(Se,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:"Sem valor"})]})})},v))}),s.jsxs(me,{sx:{padding:3,paddingBottom:0},children:[s.jsx(Ae,{sx:{paddingBottom:3},children:s.jsx(Xe,{variant:"contained",onClick:p,children:"Print"})}),s.jsx(se,{isLoading:!w||Y.isLoading,LoadingComponent:s.jsx(ie,{variant:"rounded",width:"100%",height:52}),LoadedComponent:s.jsx(Ce,{fullWidth:!0,children:s.jsx(U,{name:"statusId",control:f,defaultValue:"",render:({field:a})=>{var P,Re;const v=Y.data??[],y=["",...v.map(je=>je.name)],z=((P=v.find(je=>je.id===a.value))==null?void 0:P.name)||"";return s.jsx(et,{ref:a.ref,label:"Estado",data:y,value:z,onChange:je=>{const Le=v.find(Me=>Me.name===je);a.onChange((Le==null?void 0:Le.id)||"")},error:!!j.statusId,helperText:(Re=j.statusId)==null?void 0:Re.message})}})})})]}),s.jsxs(Ae,{sx:{border:"2px solid var(--elevation-level5)",borderRadius:2,margin:3},children:[s.jsxs(dt,{value:be,onChange:te,"aria-label":"repair-tabs",variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,sx:{borderBottom:"2px solid var(--elevation-level5)",paddingInline:3},children:[s.jsx(Fe,{icon:s.jsx(ht,{fontSize:"inherit"}),label:"Entrada",...Ne("Entrada")}),s.jsx(Fe,{icon:s.jsx(pt,{fontSize:"inherit"}),label:"Intervenção",...Ne("Intervenção")})]}),s.jsx(Ve,{value:be,index:0,children:s.jsxs(me,{sx:{gap:2},children:[s.jsx(se,{isLoading:!w,LoadingComponent:s.jsx(ie,{variant:"rounded",width:"100%",height:52}),LoadedComponent:s.jsx(U,{name:"entryDatetime",control:f,defaultValue:null,render:({field:a})=>{var v,y;return s.jsx(Oe,{label:"Data de entrada",value:a.value,onChange:a.onChange,error:!!j.entryDatetime,helperText:(v=j.entryDatetime)==null?void 0:v.message,InputLabelProps:{shrink:((y=G("entryDatetime"))==null?void 0:y.length)>0}})}})}),s.jsx(se,{isLoading:!w||c.isLoading,LoadingComponent:s.jsx(ie,{variant:"rounded",width:"100%",height:52}),LoadedComponent:s.jsx(Ce,{fullWidth:!0,children:s.jsx(U,{name:"entryAccessories",control:f,defaultValue:[],render:({field:a})=>{var z;const y=(c.data??[]).map(P=>({id:P.id,name:P.name}));return s.jsx(Ie,{label:"Acessórios",data:y,selectedIds:a.value,onChange:P=>{a.onChange(P)},error:!!j.entryAccessories,helperText:(z=j.entryAccessories)==null?void 0:z.message})}})})}),s.jsx(U,{name:"entryAccessoriesDescription",control:f,defaultValue:"",render:({field:a})=>s.jsx(Pe,{label:"Descrição dos acessórios",value:a.value,onChange:a.onChange,isLoading:!w})}),s.jsx(se,{isLoading:!w||h.isLoading,LoadingComponent:s.jsx(ie,{variant:"rounded",width:"100%",height:52}),LoadedComponent:s.jsx(Ce,{fullWidth:!0,children:s.jsx(U,{name:"entryReportedIssues",control:f,defaultValue:[],render:({field:a})=>{var z;const y=(h.data??[]).map(P=>({id:P.id,name:P.name}));return s.jsx(Ie,{label:"Problemas reportados",data:y,selectedIds:a.value,onChange:P=>{a.onChange(P)},error:!!j.entryReportedIssues,helperText:(z=j.entryReportedIssues)==null?void 0:z.message})}})})}),s.jsx(U,{name:"entryReportedIssuesDescription",control:f,defaultValue:"",render:({field:a})=>s.jsx(Pe,{label:"Descrição dos problemas reportados",value:a.value,onChange:a.onChange,isLoading:!w})}),s.jsx(U,{name:"entryDescription",control:f,defaultValue:"",render:({field:a})=>s.jsx(Pe,{label:"Descrição da entrada",value:a.value,onChange:a.onChange,isLoading:!w})})]})}),s.jsx(Ve,{value:be,index:1,children:s.jsxs(me,{sx:{gap:2},children:[s.jsx(se,{isLoading:!w||g.isLoading,LoadingComponent:s.jsx(ie,{variant:"rounded",width:"100%",height:52}),LoadedComponent:s.jsx(Ce,{fullWidth:!0,children:s.jsx(U,{name:"interventionWorksDone",control:f,defaultValue:[],render:({field:a})=>{var z;const y=(g.data??[]).map(P=>({id:P.id,name:P.name}));return s.jsx(Ie,{label:"Trabalhos realizados",data:y,selectedIds:a.value,onChange:P=>{a.onChange(P)},error:!!j.interventionWorksDone,helperText:(z=j.interventionWorksDone)==null?void 0:z.message})}})})}),s.jsx(U,{name:"interventionWorksDoneDescription",control:f,defaultValue:"",render:({field:a})=>s.jsx(Pe,{label:"Descrição dos trabalhos realizados",value:a.value,onChange:a.onChange,isLoading:!w})}),s.jsx(se,{isLoading:!w||A.isLoading,LoadingComponent:s.jsx(ie,{variant:"rounded",width:"100%",height:52}),LoadedComponent:s.jsx(Ce,{fullWidth:!0,children:s.jsx(U,{name:"interventionAccessoriesUsed",control:f,defaultValue:[],render:({field:a})=>{var z;const y=(A.data??[]).map(P=>({id:P.id,name:P.name}));return s.jsx(Ie,{label:"Acessórios usados",data:y,selectedIds:a.value,onChange:P=>{a.onChange(P)},error:!!j.interventionAccessoriesUsed,helperText:(z=j.interventionAccessoriesUsed)==null?void 0:z.message})}})})}),s.jsx(U,{name:"interventionAccessoriesUsedDescription",control:f,defaultValue:"",render:({field:a})=>s.jsx(Pe,{label:"Descrição dos acessórios usados",value:a.value,onChange:a.onChange,isLoading:!w})}),s.jsx(se,{isLoading:!w,LoadingComponent:s.jsx(ie,{variant:"rounded",width:"100%",height:52}),LoadedComponent:s.jsx(U,{name:"conclusionDatetime",control:f,defaultValue:null,render:({field:a})=>{var v,y;return s.jsx(Oe,{label:"Data de conclusão",value:a.value,onChange:a.onChange,error:!!j.conclusionDatetime,helperText:(v=j.conclusionDatetime)==null?void 0:v.message,InputLabelProps:{shrink:((y=G("conclusionDatetime"))==null?void 0:y.length)>0}})}})}),s.jsx(se,{isLoading:!w,LoadingComponent:s.jsx(ie,{variant:"rounded",width:"100%",height:52}),LoadedComponent:s.jsx(U,{name:"deliveryDatetime",control:f,defaultValue:null,render:({field:a})=>{var v,y;return s.jsx(Oe,{label:"Data de entrega",value:a.value,onChange:a.onChange,error:!!j.deliveryDatetime,helperText:(v=j.deliveryDatetime)==null?void 0:v.message,InputLabelProps:{shrink:((y=G("deliveryDatetime"))==null?void 0:y.length)>0}})}})}),s.jsx(se,{isLoading:!w,LoadingComponent:s.jsx(ie,{variant:"rounded",width:"100%",height:52}),LoadedComponent:s.jsx(Ce,{fullWidth:!0,children:s.jsxs(me,{sx:{flexDirection:"row",alignItems:"center"},children:[s.jsx(U,{name:"isClientNotified",control:f,render:({field:a})=>s.jsx(ft,{edge:"start",value:a.value,onChange:a.onChange,defaultChecked:$.isClientNotified})}),s.jsxs(me,{children:[s.jsx(Se,{variant:"p",component:"p",children:"Cliente notificado"}),s.jsx(Se,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:N?"Sim":"Não"})]})]})})}),s.jsx(U,{name:"interventionDescription",control:f,defaultValue:"",render:({field:a})=>s.jsx(Pe,{label:"Descrição da intervenção",value:a.value,onChange:a.onChange,isLoading:!w})})]})})]})]}),s.jsx(Ae,{sx:{padding:3,paddingTop:0,marginLeft:"auto"},children:s.jsx(tt,{loading:M.isPending,type:"submit",variant:"contained",disabled:!w||q(),children:"Atualizar Reparação"})})]})}),s.jsx(vt,{ref:_e,equipmentId:(ge=(ce=i==null?void 0:i[0])==null?void 0:ce.equipment)==null?void 0:ge.id})]})};export{Dt as default};
