import{a as N,ae as E,r as m,j as e,o as b,S as v,ba as F,af as R,i as c,L as w,B as S,F as t,e as a,bb as k}from"./index-afeht3W1.js";import{u as B}from"./useMutation-CmkfsMEm.js";import{z as n,u as C,t as M}from"./index-B2bFq4wz.js";import{s as z}from"./toast-BLxTkkxc.js";import{f as D}from"./phone-DsGwG79k.js";import{G as i}from"./Grid-CAwD1ELj.js";import"./utils-km2FGkQ4.js";const G=n.object({username:n.string().trim().min(1,{message:"O nome de utilizador é obrigatório"}),name:n.string().trim().min(1,{message:"O nome é obrigatório"}),email:n.string().trim().min(1,{message:"O e-mail é obrigatório"}).email({message:"O e-mail é inválido"}),phone:n.string().trim().min(1,{message:"O telefone é obrigatório"}),country:n.string().trim().min(1,{message:"O país é obrigatório"}),address:n.string().trim().min(1,{message:"A morada é obrigatória"})}),Y=()=>{var x,h,g,p,j,f;const{register:r,handleSubmit:T,formState:{errors:s},setValue:q}=C({resolver:M(G)}),y=N(),{deleteUser:O}=E(),{mutateAsync:A,isPending:L}=B({mutationFn:async()=>(await new Promise(o=>setTimeout(o,500)),k().then(()=>O()))}),[I,d]=m.useState(!1),[u,P]=m.useState("");m.useEffect(()=>{const o={image:u,username:"Luis82716",name:"Luis Rodrigues",email:"luisrodrigues@gmail.com",phone:D("921034943"),country:"Portugal",address:"Rua Joaquim António de Aguiar 168 4049-005 Porto",about:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed eu enim finibus, pretium mauris eu, finibus lorem. In tincidunt leo nisl, quis vehicula mauris vestibulum scelerisque. Nunc tempor placerat libero a efficitur. Nam aliquam, ipsum ut scelerisque aliquam, nunc tellus ultricies sem, a vulputate mi sem quis sapien. Nullam a justo mattis, feugiat tortor at, accumsan nisi. In mollis, dolor eu aliquam auctor, orci sem interdum eros, et gravida libero purus vitae nibh. Mauris vestibulum posuere neque non pulvinar. Duis varius orci nunc, ut imperdiet urna vestibulum consectetur. Ut at fermentum arcu. Aenean in urna a diam scelerisque finibus vel at quam. Sed ut volutpat purus, vitae suscipit magna. Donec in orci scelerisque, sodales massa eget, lobortis magna. In nibh mauris, venenatis eget lacinia quis, auctor quis augue."};Object.keys(o).forEach(l=>q(l,o[l]))},[]);const W=o=>{const l={...o,image:u};d(!0),setTimeout(()=>{console.log(l),Object.keys(s).length===0&&z("Salvo com sucesso!"),d(!1)},1e3)};return e.jsxs(i,{container:!0,columnSpacing:3,children:[e.jsx(i,{item:!0,xs:12,md:12,lg:4,children:e.jsx(b,{elevation:1,children:e.jsxs(v,{sx:{display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",gap:2,padding:6},children:[e.jsx(F,{image:u,setImage:P,alt:"Luis Rodrigues"}),e.jsxs(R,{sx:{width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[e.jsx(c,{variant:"h4",component:"h4",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"Luis Rodrigues"}),e.jsx(c,{variant:"p",component:"p",sx:{color:"var(--outline)",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:.5},children:"Administrador"})]}),e.jsx(w,{loading:L,variant:"contained",color:"error",onClick:async()=>{await A().then(()=>y("/auth/login"))},children:"Terminar Sessão"})]})})}),e.jsx(i,{item:!0,xs:12,md:12,lg:8,children:e.jsx(b,{elevation:1,sx:{marginTop:{xs:3,md:3,lg:0}},children:e.jsxs(S,{sx:{padding:3},children:[e.jsx(c,{variant:"h5",component:"h5",sx:{marginBottom:1},children:"Conta"}),e.jsx(S,{sx:{flexGrow:1},children:e.jsx("form",{onSubmit:T(W),children:e.jsxs(i,{container:!0,spacing:2,children:[e.jsx(i,{item:!0,xs:12,md:6,children:e.jsx(t,{fullWidth:!0,children:e.jsx(a,{...r("username"),label:"Nome de utilizador",error:!!s.username,helperText:(x=s.username)==null?void 0:x.message})})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsx(t,{fullWidth:!0,children:e.jsx(a,{...r("name"),label:"Nome",error:!!s.name,helperText:(h=s.name)==null?void 0:h.message})})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsx(t,{fullWidth:!0,children:e.jsx(a,{...r("email"),label:"E-mail",error:!!s.email,helperText:(g=s.email)==null?void 0:g.message})})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsx(t,{fullWidth:!0,children:e.jsx(a,{...r("phone"),label:"Telemóvel",error:!!s.phone,helperText:(p=s.phone)==null?void 0:p.message})})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsx(t,{fullWidth:!0,children:e.jsx(a,{...r("country"),label:"País",error:!!s.country,helperText:(j=s.country)==null?void 0:j.message})})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsx(t,{fullWidth:!0,children:e.jsx(a,{...r("address"),label:"Morada",error:!!s.address,helperText:(f=s.address)==null?void 0:f.message})})}),e.jsx(i,{item:!0,xs:12,children:e.jsxs(v,{spacing:3,sx:{alignItems:"flex-end"},children:[e.jsx(t,{fullWidth:!0,children:e.jsx(a,{...r("about"),label:"Sobre",multiline:!0,rows:5})}),e.jsx(w,{loading:I,type:"submit",variant:"contained",children:"Salvar Alterações"})]})})]})})})]})})})]})};export{Y as default};
