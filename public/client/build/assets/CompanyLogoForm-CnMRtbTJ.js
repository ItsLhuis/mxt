import{r as h,X as f,aN as j,j as o,aA as y,B as s,a8 as L,bm as C,av as g,a3 as b,a4 as S,bn as z,aa as w,a5 as A}from"./index-BCLPk4lW.js";const B=({company:E,isLoading:m,isError:d})=>{const e=!m&&!d,[t,n]=h.useState(!1),{control:u,handleSubmit:p,formState:{errors:r}}=f({resolver:S(z),defaultValues:{logo:`${g}/company/logo?size=180`}}),{updateCompanyLogo:i}=j(),x=async a=>{!e||!t||i.mutateAsync(a).then(()=>{n(!1),w("Logotipo atualizado com sucesso!")}).catch(()=>A("Erro ao atualizar logotipo!"))};return o.jsxs(o.Fragment,{children:[o.jsx(y,{title:"Logotipo",description:"Atualizar logotipo da empresa"}),o.jsx(s,{sx:{padding:3,paddingLeft:0},children:o.jsx("form",{onSubmit:p(x),children:o.jsxs(s,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",gap:2},children:[o.jsx(L,{name:"logo",control:u,defaultValue:"",render:({field:a})=>{var l;return o.jsx(C,{circular:!1,size:100,image:a.value,onChange:c=>{a.onChange(c),c!==`${g}/company/logo?size=180`&&n(!0)},loading:!e,error:!!r.logo,errorMessage:(l=r.logo)==null?void 0:l.message,sx:{"& img":{objectFit:"contain !important"}}})}}),o.jsx(s,{sx:{marginLeft:"auto"},children:o.jsx(b,{loading:i.isPending,type:"submit",variant:"contained",disabled:!e||!t,children:"Atualizar Logotipo"})})]})})})]})};export{B as default};
