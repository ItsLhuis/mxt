import{X as u,r as g,b as v,j as a,Z as e,az as j,aw as f,ao as S,$ as C,a7 as E,Y as r,B as w,a2 as b,a3 as B,a9 as y,a4 as A}from"./index-DjYwzy8o.js";import{g as z}from"./user-B-uUes6W.js";import{S as I}from"./Switch-staFe08x.js";const _=({user:t,isUserFinished:o})=>{const{control:l,handleSubmit:m,watch:s,reset:x}=u({resolver:B(z)}),p={isActive:o?!!(t!=null&&t.user.is_active):!0},i=()=>s().isActive===!!(t!=null&&t.user.is_active);g.useEffect(()=>{o&&t&&x(p)},[o,t]);const{updateUserStatus:c}=v(),h=async n=>{var d;i()||c.mutateAsync({userId:(d=t==null?void 0:t.user)==null?void 0:d.id,...n}).then(()=>y("Estado da conta atualizado com sucesso!")).catch(()=>A("Erro ao atualizar estado da conta!"))};return a.jsxs(e,{sx:{paddingBottom:2},children:[a.jsx(j,{title:"Estado",description:"Atualizar estado da conta do funcionÃ¡rio"}),a.jsx("form",{onSubmit:m(h),children:a.jsxs(e,{sx:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingBlock:1},children:[a.jsx(f,{isLoading:!o,LoadingComponent:a.jsx(S,{variant:"rounded",width:"100%",sx:{marginInline:3},height:52}),LoadedComponent:a.jsx(C,{fullWidth:!0,children:a.jsxs(e,{sx:{flexDirection:"row",alignItems:"center",paddingInline:2},children:[a.jsx(E,{name:"isActive",control:l,render:({field:n})=>a.jsx(I,{value:n.value,onChange:n.onChange,defaultChecked:!!(t!=null&&t.user.is_active)})}),a.jsxs(e,{children:[a.jsx(r,{variant:"p",component:"p",children:"Estado da conta"}),a.jsx(r,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:s("isActive")?"Conta ativa":"Conta inativa"})]})]})})}),a.jsx(w,{sx:{paddingRight:3},children:a.jsx(b,{loading:c.isPending,type:"submit",variant:"contained",disabled:!o||i(),children:"Atualizar Estado"})})]})})]})};export{_ as default};
