import{d as P,e as B,r as o,j as t,S as s,a8 as y,aN as F,h as n,aZ as m,a_ as x,a$ as u,aE as f,aF as v,ax as N,aH as k,aj as Y,ay as V,b0 as Z,B as _,ba as O,bb as G,aC as C,H as S,aU as J,f as K,aM as Q,b1 as X,b2 as w}from"./index-C9HasOiM.js";import{u as ee}from"./useClient-C9FOb7yq.js";import{f as z}from"./phone-CfgKBj3V.js";import{M as te}from"./MoreVert-CDz2P5kD.js";import{E as ie}from"./Edit-CYRFZ1bJ.js";import{C as ae}from"./Check-DBclaca9.js";import{P as ne}from"./Phone-DvakulYD.js";import{P as se}from"./Place-CPuVfo0F.js";import{H as le}from"./History-BDnjiCRC.js";import"./client-CVPJ2IqU.js";import"./isPossiblePhoneNumber-C2Df4Gz7.js";const he=()=>{const I=P(),{role:W}=B(),{findAllClients:T,deleteClient:E}=ee(),{data:H,isLoading:A}=T,[M,$]=o.useState({isOpen:!1,clientId:null}),L=i=>{$({isOpen:!0,clientId:i})},D=()=>{$({isOpen:!1,clientId:null})},U=()=>new Promise((i,p)=>{M.clientId?E.mutateAsync({clientId:M.clientId}).then(()=>{D(),i()}).catch(()=>{D(),p()}):(D(),p())}),q=o.useMemo(()=>[{id:"name",label:"Nome",align:"left",sortable:!0,renderComponent:({row:i})=>t.jsxs(s,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[t.jsx(y,{to:`/client/${i==null?void 0:i.id}`,children:i==null?void 0:i.name}),(i==null?void 0:i.description)&&t.jsx(F,{fontSize:"small",title:i==null?void 0:i.description})]})},{id:"created_by_user",visible:!1},{id:"created_at_datetime",label:"Criado por",align:"left",sortable:!0,renderComponent:({row:i})=>{var p,h,b,j,g;return t.jsx(t.Fragment,{children:t.jsxs(s,{sx:{flexDirection:"row",gap:2},children:[t.jsx(s,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:i!=null&&i.created_by_user?t.jsxs(t.Fragment,{children:[t.jsx(m,{alt:(p=i==null?void 0:i.created_by_user)==null?void 0:p.username,src:`${x}/users/${(h=i==null?void 0:i.created_by_user)==null?void 0:h.id}/avatar?size=80`,name:(b=i==null?void 0:i.created_by_user)==null?void 0:b.username}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(j=i==null?void 0:i.created_by_user)==null?void 0:j.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(g=i==null?void 0:i.created_by_user)==null?void 0:g.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(i==null?void 0:i.created_at_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:v(i==null?void 0:i.created_at_datetime)})]})]})})}},{id:"last_modified_by_user",visible:!1},{id:"last_modified_datetime",label:"Modificado pela última vez por",align:"left",sortable:!0,renderComponent:({row:i})=>{var p,h,b,j,g;return t.jsx(t.Fragment,{children:i!=null&&i.last_modified_datetime?t.jsxs(s,{sx:{flexDirection:"row",gap:2},children:[t.jsx(s,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:i!=null&&i.last_modified_by_user?t.jsxs(t.Fragment,{children:[t.jsx(m,{alt:(p=i==null?void 0:i.last_modified_by_user)==null?void 0:p.username,src:`${x}/users/${(h=i==null?void 0:i.last_modified_by_user)==null?void 0:h.id}/avatar?size=80`,name:(b=i==null?void 0:i.last_modified_by_user)==null?void 0:b.username}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(j=i==null?void 0:i.last_modified_by_user)==null?void 0:j.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(g=i==null?void 0:i.last_modified_by_user)==null?void 0:g.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(i==null?void 0:i.last_modified_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:v(i==null?void 0:i.last_modified_datetime)})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Ainda não foi modificado"})})}},{id:"more_options",align:"right",sortable:!1,renderComponent:({row:i})=>t.jsx(N,{mode:"custom",customButton:t.jsx(k,{title:"Mais opções",sx:{margin:-1},children:t.jsx(Y,{children:t.jsx(te,{})})}),children:t.jsx(V,{buttons:[{label:"Editar",icon:t.jsx(ie,{fontSize:"small"}),onClick:()=>I(`/client/${i==null?void 0:i.id}`)},...W!=="Funcionário"?[{label:"Eliminar",icon:t.jsx(Z,{fontSize:"small",color:"error"}),color:"error",divider:!0,onClick:()=>L(i==null?void 0:i.id)}]:[]]})})}],[]),R=o.useMemo(()=>({row:i})=>{const p=o.useMemo(()=>[{id:"type",label:"Tipo",align:"left",sortable:!0},{id:"contact",label:"Contacto",align:"left",sortable:!0,renderComponent:({row:e})=>t.jsxs(s,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[t.jsx(t.Fragment,{children:z(e==null?void 0:e.contact)}),(e==null?void 0:e.description)&&t.jsx(F,{fontSize:"small",title:e==null?void 0:e.description})]})},{id:"created_by_user",visible:!1},{id:"created_at_datetime",label:"Criado por",align:"left",sortable:!0,renderComponent:({row:e})=>{var l,a,d,c,r;return t.jsx(t.Fragment,{children:t.jsxs(s,{sx:{flexDirection:"row",gap:2},children:[t.jsx(s,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.created_by_user?t.jsxs(t.Fragment,{children:[t.jsx(m,{alt:(l=e==null?void 0:e.created_by_user)==null?void 0:l.username,src:`${x}/users/${(a=e==null?void 0:e.created_by_user)==null?void 0:a.id}/avatar?size=80`,name:(d=e==null?void 0:e.created_by_user)==null?void 0:d.username}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(c=e==null?void 0:e.created_by_user)==null?void 0:c.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.created_by_user)==null?void 0:r.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.created_at_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:v(e==null?void 0:e.created_at_datetime)})]})]})})}},{id:"last_modified_by_user",visible:!1},{id:"last_modified_datetime",label:"Modificado pela última vez por",align:"left",sortable:!0,renderComponent:({row:e})=>{var l,a,d,c,r;return t.jsx(t.Fragment,{children:e!=null&&e.last_modified_datetime?t.jsxs(s,{sx:{flexDirection:"row",gap:2},children:[t.jsx(s,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.last_modified_by_user?t.jsxs(t.Fragment,{children:[t.jsx(m,{alt:(l=e==null?void 0:e.last_modified_by_user)==null?void 0:l.username,src:`${x}/users/${(a=e==null?void 0:e.last_modified_by_user)==null?void 0:a.id}/avatar?size=80`,name:(d=e==null?void 0:e.last_modified_by_user)==null?void 0:d.username}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(c=e==null?void 0:e.last_modified_by_user)==null?void 0:c.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.last_modified_by_user)==null?void 0:r.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.last_modified_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:v(e==null?void 0:e.last_modified_datetime)})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Ainda não foi modificado"})})}}],[]),h=o.useMemo(()=>[{id:"country",label:"País",align:"left",sortable:!0},{id:"city",label:"Cidade",align:"left",sortable:!0},{id:"locality",label:"Localidade",align:"left",sortable:!0},{id:"address",label:"Morada",align:"left",sortable:!0},{id:"postal_code",label:"Código postal",align:"left",sortable:!0},{id:"created_by_user",visible:!1},{id:"created_at_datetime",label:"Criado por",align:"left",sortable:!0,renderComponent:({row:e})=>{var l,a,d,c,r;return t.jsx(t.Fragment,{children:t.jsxs(s,{sx:{flexDirection:"row",gap:2},children:[t.jsx(s,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.created_by_user?t.jsxs(t.Fragment,{children:[t.jsx(m,{alt:(l=e==null?void 0:e.created_by_user)==null?void 0:l.username,src:`${x}/users/${(a=e==null?void 0:e.created_by_user)==null?void 0:a.id}/avatar?size=80`,name:(d=e==null?void 0:e.created_by_user)==null?void 0:d.username}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(c=e==null?void 0:e.created_by_user)==null?void 0:c.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.created_by_user)==null?void 0:r.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.created_at_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:v(e==null?void 0:e.created_at_datetime)})]})]})})}},{id:"last_modified_by_user",visible:!1},{id:"last_modified_datetime",label:"Modificado pela última vez por",align:"left",sortable:!0,renderComponent:({row:e})=>{var l,a,d,c,r;return t.jsx(t.Fragment,{children:e!=null&&e.last_modified_datetime?t.jsxs(s,{sx:{flexDirection:"row",gap:2},children:[t.jsx(s,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.last_modified_by_user?t.jsxs(t.Fragment,{children:[t.jsx(m,{alt:(l=e==null?void 0:e.last_modified_by_user)==null?void 0:l.username,src:`${x}/users/${(a=e==null?void 0:e.last_modified_by_user)==null?void 0:a.id}/avatar?size=80`,name:(d=e==null?void 0:e.last_modified_by_user)==null?void 0:d.username}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(c=e==null?void 0:e.last_modified_by_user)==null?void 0:c.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.last_modified_by_user)==null?void 0:r.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.last_modified_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:v(e==null?void 0:e.last_modified_datetime)})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Ainda não foi modificado"})})}}],[]),b=o.useMemo(()=>[{id:"type.name",label:"Tipo",align:"left",sortable:!0,renderComponent:({row:e})=>{var l;return t.jsx(y,{to:`/equipment/${e==null?void 0:e.id}`,children:(l=e==null?void 0:e.type)==null?void 0:l.name})}},{id:"brand.name",label:"Marca ",align:"left",sortable:!0,renderComponent:({row:e})=>{var l;return t.jsx(y,{to:`/equipment/${e==null?void 0:e.id}`,children:(l=e==null?void 0:e.brand)==null?void 0:l.name})}},{id:"model.name",label:"Modelo",align:"left",sortable:!0,renderComponent:({row:e})=>{var l;return t.jsx(y,{to:`/equipment/${e==null?void 0:e.id}`,children:(l=e==null?void 0:e.model)==null?void 0:l.name})}},{id:"sn",label:"Número de série",align:"left",sortable:!0,renderComponent:({row:e})=>t.jsx(y,{to:`/equipment/${e==null?void 0:e.id}`,children:e==null?void 0:e.sn})},{id:"created_by_user",visible:!1},{id:"created_at_datetime",label:"Criado por",align:"left",sortable:!0,renderComponent:({row:e})=>{var l,a,d;return t.jsx(t.Fragment,{children:t.jsxs(s,{sx:{flexDirection:"row",gap:2},children:[t.jsx(s,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.created_by_user?t.jsxs(t.Fragment,{children:[t.jsx(m,{alt:(l=e==null?void 0:e.created_by_user)==null?void 0:l.username,src:`${x}/users/${(a=e==null?void 0:e.created_by_user)==null?void 0:a.id}/avatar?size=80`,name:(d=e==null?void 0:e.created_by_user)==null?void 0:d.username}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:e==null?void 0:e.created_by_user.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:e==null?void 0:e.created_by_user.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.created_at_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:v(e==null?void 0:e.created_at_datetime)})]})]})})}},{id:"last_modified_by_user",visible:!1},{id:"last_modified_datetime",label:"Modificado pela última vez por",align:"left",sortable:!0,renderComponent:({row:e})=>{var l,a,d,c,r;return t.jsx(t.Fragment,{children:e!=null&&e.last_modified_datetime?t.jsxs(s,{sx:{flexDirection:"row",gap:2},children:[t.jsx(s,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.last_modified_by_user?t.jsxs(t.Fragment,{children:[t.jsx(m,{alt:(l=e==null?void 0:e.last_modified_by_user)==null?void 0:l.username,src:`${x}/users/${(a=e==null?void 0:e.last_modified_by_user)==null?void 0:a.id}/avatar?size=80`,name:(d=e==null?void 0:e.last_modified_by_user)==null?void 0:d.username}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(c=e==null?void 0:e.last_modified_by_user)==null?void 0:c.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.last_modified_by_user)==null?void 0:r.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.last_modified_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:v(e==null?void 0:e.last_modified_datetime)})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Ainda não foi modificado"})})}}],[]),j=o.useMemo(()=>[{id:"type",label:"Atividade",align:"left",sortable:!0},{id:"responsible_user",visible:!1},{id:"created_at_datetime",label:"Responsável",align:"left",sortable:!0,renderComponent:({row:e})=>{var l,a,d,c,r;return t.jsx(t.Fragment,{children:t.jsxs(s,{sx:{flexDirection:"row",gap:2},children:[t.jsx(s,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.responsible_user?t.jsxs(t.Fragment,{children:[t.jsx(m,{alt:(l=e==null?void 0:e.responsible_user)==null?void 0:l.username,src:`${x}/users/${(a=e==null?void 0:e.responsible_user)==null?void 0:a.id}/avatar?size=80`,name:(d=e==null?void 0:e.responsible_user)==null?void 0:d.username}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(c=e==null?void 0:e.responsible_user)==null?void 0:c.username}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.responsible_user)==null?void 0:r.role})]})]}):t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),t.jsx(u,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),t.jsxs(s,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[t.jsx(n,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.created_at_datetime)}),t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:v(e==null?void 0:e.created_at_datetime)})]})]})})}}],[]),g=o.useMemo(()=>({row:e})=>{const l=o.useMemo(()=>[{id:"field",label:"Campo",align:"left",sortable:!0},{id:"before",label:"Antes",align:"left",sortable:!0,renderComponent:({row:a})=>(a==null?void 0:a.field)==="Descrição"&&a!=null&&a.before?t.jsx(_,{sx:{maxHeight:300,overflow:"hidden",overflowY:"auto",borderRadius:"8px",border:"1px solid var(--elevation-level5)",padding:2},children:t.jsx("span",{className:"table-cell-tiptap-editor",dangerouslySetInnerHTML:O(a==null?void 0:a.before)})}):(a==null?void 0:a.field)==="Contacto"&&a!=null&&a.before?z(a==null?void 0:a.before):a!=null&&a.before?a==null?void 0:a.before:t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})},{id:"after",label:"Depois",align:"left",sortable:!0,renderComponent:({row:a})=>(a==null?void 0:a.field)==="Descrição"&&a!=null&&a.after?t.jsx(_,{sx:{maxHeight:300,overflow:"hidden",overflowY:"auto",borderRadius:"8px",border:"1px solid var(--elevation-level5)",padding:2},children:t.jsx("span",{className:"table-cell-tiptap-editor",dangerouslySetInnerHTML:O(a==null?void 0:a.after)})}):(a==null?void 0:a.field)==="Contacto"&&a!=null&&a.after?z(a==null?void 0:a.after):a!=null&&a.after?a==null?void 0:a.after:t.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})},{id:"changed",label:"Alterado",align:"left",sortable:!0,renderComponent:({row:a})=>t.jsx(t.Fragment,{children:a!=null&&a.changed?t.jsx(ae,{color:"success"}):t.jsx(G,{color:"error"})})}],[]);return t.jsx(_,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden",margin:3},children:t.jsx(C,{data:(e==null?void 0:e.details)??[],columns:l})})},[]);return t.jsxs(s,{sx:{margin:3,gap:3},children:[t.jsxs(_,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:[t.jsx(S,{title:"Contactos",description:"Contactos do cliente",icon:t.jsx(ne,{})}),t.jsx(C,{mode:"datatable",data:(i==null?void 0:i.contacts)??[],columns:p})]}),t.jsxs(_,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:[t.jsx(S,{title:"Moradas",description:"Moradas do cliente",icon:t.jsx(se,{})}),t.jsx(C,{mode:"datatable",data:(i==null?void 0:i.addresses)??[],columns:h})]}),t.jsxs(_,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:[t.jsx(S,{title:"Equipamentos",description:"Equipamentos do cliente",icon:t.jsx(J,{})}),t.jsx(C,{mode:"datatable",data:(i==null?void 0:i.equipments)??[],columns:b})]}),W!=="Funcionário"&&t.jsxs(_,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:[t.jsx(S,{title:"Histórico de Atividades",description:"Histórico de atividades sobre o cliente",icon:t.jsx(le,{})}),t.jsx(C,{mode:"datatable",data:(i==null?void 0:i.interactions_history)??[],columns:j,ExpandableContentComponent:g})]})]})},[]);return t.jsx(K,{elevation:1,children:t.jsxs(_,{sx:{marginTop:3},children:[t.jsx(Q,{isLoading:A,LoadingComponent:t.jsx(X,{mode:"datatable"}),LoadedComponent:t.jsx(C,{mode:"datatable",data:H??[],columns:q,ExpandableContentComponent:R})}),t.jsx(w,{mode:"delete",title:"Eliminar Cliente",open:M.isOpen,onClose:D,onSubmit:U,description:"Tem a certeza que deseja eliminar este cliente?",subDescription:"Ao eliminar este cliente, todos os dados relacionados, incluindo contactos, moradas, equipamentos e reparações associadas, serão removidos de forma permanente."})]})})};export{he as default};
