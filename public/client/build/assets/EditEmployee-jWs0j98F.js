const __vite__fileDeps=["assets/EmployeeRoleForm-CsHEuDTE.js","assets/index-BzXGUPkY.js","assets/index-BnCpLLZ7.css","assets/user-BY9cR1Va.js","assets/EmployeeStatusForm-Cmyoq9S8.js","assets/Switch-S0vENam3.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r as s,_ as h,a7 as _,S as U,b as L,j as a,P as S,Z as n,m as p,$ as m,a as A,aA as F,aB as P,ad as v,ax as C,ap as w,au as z,av as I,Y as r,aF as x}from"./index-BzXGUPkY.js";import{f as B}from"./phone-d4Gopd80.js";const R=s.lazy(()=>h(()=>import("./EmployeeRoleForm-CsHEuDTE.js"),__vite__mapDeps([0,1,2,3]))),f=s.lazy(()=>h(()=>import("./EmployeeStatusForm-Cmyoq9S8.js"),__vite__mapDeps([4,1,2,3,5]))),N=()=>{const{employeeId:l}=_(),{id:u,role:d}=U(),{findEmployeeByUserId:j}=L(),{data:e,isLoading:y,isError:c,error:b}=j(l),i=!y&&!c,t=(d==="Chefe"||d==="Administrador"&&(e==null?void 0:e.user.role)==="Funcionário")&&Number(l)!==u,g=[{label:"User",value:e==null?void 0:e.user},{label:"E-mail",value:e==null?void 0:e.user.email},{label:"Nome",value:e==null?void 0:e.name},{label:"Contacto",value:B(e==null?void 0:e.phone_number)},{label:"País",value:e==null?void 0:e.country},{label:"Cidade",value:e==null?void 0:e.city},{label:"Localidade",value:e==null?void 0:e.locality},{label:"Endereço",value:e==null?void 0:e.address},{label:"Código Postal",value:e==null?void 0:e.postal_code}];return a.jsx(s.Suspense,{fallback:a.jsx(S,{}),children:a.jsxs(n,{sx:{marginTop:3,paddingBottom:3,gap:3},children:[!t&&i&&a.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},style:{position:"sticky",top:16,zIndex:1},children:a.jsx(m,{severity:"error",elevation:1,sx:{width:"100%"},children:"Não tem permissão para editar este utilizador!"})}),c&&b.error.code==="USR-003"&&a.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},style:{position:"sticky",top:16,zIndex:1},children:a.jsx(m,{severity:"error",elevation:1,sx:{width:"100%"},children:"Funcionário não encontrado!"})}),a.jsx(A,{elevation:1,children:a.jsxs(n,{children:[a.jsx(F,{title:"Detalhes",description:"Utilizador, email, nome, contacto... do funcionário",icon:a.jsx(P,{})}),a.jsx(v,{container:!0,spacing:2,sx:{paddingInline:3,paddingBottom:3},children:g.map((o,E)=>a.jsx(v,{item:!0,xs:12,sm:6,md:4,children:a.jsx(C,{isLoading:!i||!t,LoadingComponent:a.jsx(w,{variant:"rounded",width:"100%",height:52}),LoadedComponent:a.jsx(n,{children:o.label==="User"?o.value?a.jsxs(n,{sx:{flexDirection:"row",justifyContent:"",alignItems:"center",gap:1},children:[a.jsx(z,{alt:i?"Avatar de utilizador":o.value.username,src:i?`${I}/users/${o.value.id}/avatar?size=80`:"",name:i?o.value.username:""}),a.jsxs(n,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(r,{variant:"p",component:"p",fontWeight:500,children:o.value.username}),a.jsx(r,{variant:"p",component:"p",color:"var(--outline)",children:o.value.role})]})]}):a.jsx(r,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:"Sem valor"}):a.jsxs(a.Fragment,{children:[a.jsx(r,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:o.label}),o.value?a.jsx(r,{variant:"p",component:"p",children:o.value}):a.jsx(r,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:"Sem valor"})]})})})},E))}),a.jsx(x,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),a.jsx(R,{user:e,isUserFinished:i&&t}),a.jsx(x,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),a.jsx(f,{user:e,isUserFinished:i&&t})]})})]})})};export{N as default};
