import{r as x,j as a,a7 as p,S as n,h as i,aF as u,aG as _,aI as b,aJ as f,aK as h,aQ as v,f as q,H as E,ay as T,aR as S,aS as D,B as M,aT as $}from"./index-_NktdslD.js";const z=({client:l,isLoading:j,isError:g})=>{var o;const c=!j&&!g,y=x.useMemo(()=>[{id:"type.name",label:"Tipo",align:"left",sortable:!0,renderComponent:({row:e})=>{var t;return a.jsx(p,{to:`/equipment/${e==null?void 0:e.id}`,children:(t=e==null?void 0:e.type)==null?void 0:t.name})}},{id:"brand.name",label:"Marca ",align:"left",sortable:!0,renderComponent:({row:e})=>{var t;return a.jsx(p,{to:`/equipment/${e==null?void 0:e.id}`,children:(t=e==null?void 0:e.brand)==null?void 0:t.name})}},{id:"model.name",label:"Modelo",align:"left",sortable:!0,renderComponent:({row:e})=>{var t;return a.jsx(p,{to:`/equipment/${e==null?void 0:e.id}`,children:(t=e==null?void 0:e.model)==null?void 0:t.name})}},{id:"sn",label:"Número de série",align:"left",sortable:!0,renderComponent:({row:e})=>a.jsx(p,{to:`/equipment/${e==null?void 0:e.id}`,children:e==null?void 0:e.sn})},{id:"created_by_user",visible:!1},{id:"created_at_datetime",label:"Criado por",align:"left",sortable:!0,renderComponent:({row:e})=>{var t,s,d,m,r;return a.jsx(a.Fragment,{children:a.jsxs(n,{sx:{flexDirection:"row",gap:2},children:[a.jsx(n,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.created_by_user?a.jsxs(a.Fragment,{children:[a.jsx(u,{alt:(t=e==null?void 0:e.created_by_user)==null?void 0:t.username,src:`${_}/users/${(s=e==null?void 0:e.created_by_user)==null?void 0:s.id}/avatar?size=80`,name:(d=e==null?void 0:e.created_by_user)==null?void 0:d.username}),a.jsxs(n,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(i,{variant:"p",component:"p",fontWeight:500,children:(m=e==null?void 0:e.created_by_user)==null?void 0:m.username}),a.jsx(i,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.created_by_user)==null?void 0:r.role})]})]}):a.jsx(i,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),a.jsx(b,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),a.jsxs(n,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(i,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.created_at_datetime)}),a.jsx(i,{variant:"p",component:"p",color:"var(--outline)",children:h(e==null?void 0:e.created_at_datetime)})]})]})})}},{id:"last_modified_by_user",visible:!1},{id:"last_modified_datetime",label:"Modificado pela última vez por",align:"left",sortable:!0,renderComponent:({row:e})=>{var t,s,d,m,r;return a.jsx(a.Fragment,{children:e!=null&&e.last_modified_datetime?a.jsxs(n,{sx:{flexDirection:"row",gap:2},children:[a.jsx(n,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.last_modified_by_user?a.jsxs(a.Fragment,{children:[a.jsx(u,{alt:(t=e==null?void 0:e.last_modified_by_user)==null?void 0:t.username,src:`${_}/users/${(s=e==null?void 0:e.last_modified_by_user)==null?void 0:s.id}/avatar?size=80`,name:(d=e==null?void 0:e.last_modified_by_user)==null?void 0:d.username}),a.jsxs(n,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(i,{variant:"p",component:"p",fontWeight:500,children:(m=e==null?void 0:e.last_modified_by_user)==null?void 0:m.username}),a.jsx(i,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.last_modified_by_user)==null?void 0:r.role})]})]}):a.jsx(i,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),a.jsx(b,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),a.jsxs(n,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(i,{variant:"p",component:"p",fontWeight:500,children:f(e==null?void 0:e.last_modified_datetime)}),a.jsx(i,{variant:"p",component:"p",color:"var(--outline)",children:h(e==null?void 0:e.last_modified_datetime)})]})]}):a.jsx(i,{variant:"p",component:"p",color:"var(--outline)",children:"Ainda não foi modificado"})})}}],[]),C=x.useMemo(()=>[{id:"client",label:"Cliente",formatter:()=>{var e;return(e=l==null?void 0:l[0])==null?void 0:e.name}},{id:"type.name",label:"Tipo"},{id:"brand.name",label:"Marca"},{id:"model.name",label:"Modelo"},{id:"sn",label:"Número de série"},{id:"created_by_user.username",label:"Criado por"},{id:"created_at_datetime",label:"Data de criação",formatter:e=>e?v(e):""},{id:"last_modified_by_user.username",label:"Modificado pela última vez por"},{id:"last_modified_datetime",label:"Última data de modificação",formatter:e=>e?v(e):""}],[l]);return a.jsxs(q,{elevation:1,children:[a.jsx(E,{title:"Equipamentos",description:"Equipamentos do cliente",icon:a.jsx(T,{})}),a.jsx(S,{isLoading:!c,LoadingComponent:a.jsx(D,{mode:"datatable"}),LoadedComponent:a.jsx(M,{sx:{margin:3,border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:a.jsx($,{mode:"datatable",data:c?(o=l[0])==null?void 0:o.equipments:[],columns:y,exportFileName:"equipamentos_cliente",exportColumns:C})})})]})};export{z as default};
