import{r as b,j as a,a8 as g,aG as y,bd as c,h as t,S as i,bb as C,aZ as o,a_ as p,a$ as x,aE as _,aF as u,f as F,H as S,aV as D,aM as E,b1 as R,B as T,aC as L}from"./index-C9HasOiM.js";import{g as W}from"./getValidChipColor-D8WVyITM.js";import{C as $}from"./Check-DBclaca9.js";const O=({equipment:v,isLoading:h,isError:f})=>{const m=!h&&!f,j=b.useMemo(()=>[{id:"status.name",label:"Estado",align:"left",sortable:!0,renderComponent:({row:e})=>{var n,s;return a.jsx(g,{to:`/repair/${e==null?void 0:e.id}`,children:a.jsx(y,{label:(n=e==null?void 0:e.status)==null?void 0:n.name,color:W((s=e==null?void 0:e.status)==null?void 0:s.color)})})}},{id:"entry_datetime",label:"Data de entrada",align:"left",sortable:!0,renderComponent:({row:e})=>a.jsx(a.Fragment,{children:e!=null&&e.entry_datetime?a.jsx(a.Fragment,{children:c(e==null?void 0:e.entry_datetime)}):a.jsx(t,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})})},{id:"conclusion_datetime",label:"Data de conclusão",align:"left",sortable:!0,renderComponent:({row:e})=>a.jsx(a.Fragment,{children:e!=null&&e.conclusion_datetime?a.jsx(a.Fragment,{children:c(e==null?void 0:e.conclusion_datetime)}):a.jsx(t,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})})},{id:"delivery_datetime",label:"Data de entrega",align:"left",sortable:!0,renderComponent:({row:e})=>a.jsx(a.Fragment,{children:e!=null&&e.delivery_datetime?a.jsx(a.Fragment,{children:c(e==null?void 0:e.delivery_datetime)}):a.jsx(t,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})})},{id:"is_client_notified",label:"Cliente notificado",align:"left",sortable:!0,renderComponent:({row:e})=>a.jsx(i,{sx:{alignItems:"flex-start"},children:e!=null&&e.is_client_notified?a.jsx($,{color:"success"}):a.jsx(C,{color:"error"})})},{id:"created_by_user",visible:!1},{id:"created_at_datetime",label:"Criado por",align:"left",sortable:!0,renderComponent:({row:e})=>{var n,s,l,d,r;return a.jsx(a.Fragment,{children:a.jsxs(i,{sx:{flexDirection:"row",gap:2},children:[a.jsx(i,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.created_by_user?a.jsxs(a.Fragment,{children:[a.jsx(o,{alt:(n=e==null?void 0:e.created_by_user)==null?void 0:n.username,src:`${p}/users/${(s=e==null?void 0:e.created_by_user)==null?void 0:s.id}/avatar?size=80`,name:(l=e==null?void 0:e.created_by_user)==null?void 0:l.username}),a.jsxs(i,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(t,{variant:"p",component:"p",fontWeight:500,children:(d=e==null?void 0:e.created_by_user)==null?void 0:d.username}),a.jsx(t,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.created_by_user)==null?void 0:r.role})]})]}):a.jsx(t,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),a.jsx(x,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),a.jsxs(i,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(t,{variant:"p",component:"p",fontWeight:500,children:_(e==null?void 0:e.created_at_datetime)}),a.jsx(t,{variant:"p",component:"p",color:"var(--outline)",children:u(e==null?void 0:e.created_at_datetime)})]})]})})}},{id:"last_modified_by_user",visible:!1},{id:"last_modified_datetime",label:"Modificado pela última vez por",align:"left",sortable:!0,renderComponent:({row:e})=>{var n,s,l,d,r;return a.jsx(a.Fragment,{children:e!=null&&e.last_modified_datetime?a.jsxs(i,{sx:{flexDirection:"row",gap:2},children:[a.jsx(i,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.last_modified_by_user?a.jsxs(a.Fragment,{children:[a.jsx(o,{alt:(n=e==null?void 0:e.last_modified_by_user)==null?void 0:n.username,src:`${p}/users/${(s=e==null?void 0:e.last_modified_by_user)==null?void 0:s.id}/avatar?size=80`,name:(l=e==null?void 0:e.last_modified_by_user)==null?void 0:l.username}),a.jsxs(i,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(t,{variant:"p",component:"p",fontWeight:500,children:(d=e==null?void 0:e.last_modified_by_user)==null?void 0:d.username}),a.jsx(t,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.last_modified_by_user)==null?void 0:r.role})]})]}):a.jsx(t,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),a.jsx(x,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),a.jsxs(i,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(t,{variant:"p",component:"p",fontWeight:500,children:_(e==null?void 0:e.last_modified_datetime)}),a.jsx(t,{variant:"p",component:"p",color:"var(--outline)",children:u(e==null?void 0:e.last_modified_datetime)})]})]}):a.jsx(t,{variant:"p",component:"p",color:"var(--outline)",children:"Ainda não foi modificado"})})}}],[]);return a.jsxs(F,{elevation:1,children:[a.jsx(S,{title:"Reparações",description:"Reparações do equipamento",icon:a.jsx(D,{})}),a.jsx(E,{isLoading:!m,LoadingComponent:a.jsx(R,{mode:"datatable"}),LoadedComponent:a.jsx(T,{sx:{margin:3,border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:a.jsx(L,{mode:"datatable",data:m?v[0].repairs:[],columns:j})})})]})};export{O as default};
