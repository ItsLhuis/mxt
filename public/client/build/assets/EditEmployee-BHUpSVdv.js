const __vite__fileDeps=["assets/EmployeeRoleForm-BnUxMsGn.js","assets/index-DjYwzy8o.js","assets/index-CDTAegzr.css","assets/user-B-uUes6W.js","assets/EmployeeStatusForm-DULMr2e_.js","assets/Switch-staFe08x.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r as s,_ as h,a6 as _,S as U,b as A,j as a,P as L,Z as t,m as p,a as S,az as P,aA as w,ac as m,aw as z,ao as C,at as F,au as I,Y as r,aE as v}from"./index-DjYwzy8o.js";import{f}from"./phone-CpiNNUiR.js";import{A as x}from"./Alert-SruG8s_r.js";const R=s.lazy(()=>h(()=>import("./EmployeeRoleForm-BnUxMsGn.js"),__vite__mapDeps([0,1,2,3]))),k=s.lazy(()=>h(()=>import("./EmployeeStatusForm-DULMr2e_.js"),__vite__mapDeps([4,1,2,3,5]))),T=()=>{const{employeeId:l}=_(),{id:u,role:d}=U(),{findEmployeeByUserId:j}=A(),{data:e,isLoading:y,isError:c,error:b}=j(l),i=!y&&!c,n=(d==="Chefe"||d==="Administrador"&&(e==null?void 0:e.user.role)==="Funcionário")&&Number(l)!==u,E=[{label:"User",value:e==null?void 0:e.user},{label:"E-mail",value:e==null?void 0:e.user.email},{label:"Nome",value:e==null?void 0:e.name},{label:"Contacto",value:f(e==null?void 0:e.phone_number)},{label:"País",value:e==null?void 0:e.country},{label:"Cidade",value:e==null?void 0:e.city},{label:"Localidade",value:e==null?void 0:e.locality},{label:"Endereço",value:e==null?void 0:e.address},{label:"Código Postal",value:e==null?void 0:e.postal_code}];return a.jsx(s.Suspense,{fallback:a.jsx(L,{}),children:a.jsxs(t,{sx:{marginTop:3,paddingBottom:3,gap:3},children:[!n&&i&&a.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},style:{position:"sticky",top:16,zIndex:1},children:a.jsx(x,{severity:"error",elevation:1,sx:{width:"100%"},children:"Não tem permissão para editar este utilizador!"})}),c&&b.error.code==="USR-003"&&a.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},style:{position:"sticky",top:16,zIndex:1},children:a.jsx(x,{severity:"error",elevation:1,sx:{width:"100%"},children:"Funcionário não encontrado!"})}),a.jsx(S,{elevation:1,children:a.jsxs(t,{children:[a.jsx(P,{title:"Detalhes",description:"Utilizador, email, nome, contacto... do funcionário",icon:a.jsx(w,{})}),a.jsx(m,{container:!0,spacing:2,sx:{paddingInline:3,paddingBottom:3},children:E.map((o,g)=>a.jsx(m,{item:!0,xs:12,sm:6,md:4,children:a.jsx(z,{isLoading:!i||!n,LoadingComponent:a.jsx(C,{variant:"rounded",width:"100%",height:52}),LoadedComponent:a.jsx(t,{children:o.label==="User"?o.value?a.jsxs(t,{sx:{flexDirection:"row",justifyContent:"",alignItems:"center",gap:1},children:[a.jsx(F,{alt:i?"Avatar de utilizador":o.value.username,src:i?`${I}/users/${o.value.id}/avatar?size=80`:"",name:i?o.value.username:""}),a.jsxs(t,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(r,{variant:"p",component:"p",fontWeight:500,children:o.value.username}),a.jsx(r,{variant:"p",component:"p",color:"var(--outline)",children:o.value.role})]})]}):a.jsx(r,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:"Sem valor"}):a.jsxs(a.Fragment,{children:[a.jsx(r,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:o.label}),o.value?a.jsx(r,{variant:"p",component:"p",children:o.value}):a.jsx(r,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:"Sem valor"})]})})})},g))}),a.jsx(v,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),a.jsx(R,{user:e,isUserFinished:i&&n}),a.jsx(v,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),a.jsx(k,{user:e,isUserFinished:i&&n})]})})]})})};export{T as default};
