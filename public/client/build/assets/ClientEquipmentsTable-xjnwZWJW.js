import{r as o,j as a,a7 as p,S as n,h as i,aV as x,aW as u,aE as _,aM as b,aN as f,aY as h,f as C,H as E,aA as q,aZ as T,a_ as M,B as S,aK as D}from"./index-DJpfvod0.js";const W=({client:l,isLoading:v,isError:j})=>{const c=!v&&!j,g=o.useMemo(()=>[{id:"type.name",label:"Tipo",align:"left",sortable:!0,renderComponent:({row:e})=>{var t;return a.jsx(p,{to:`/equipment/${e==null?void 0:e.id}`,children:(t=e==null?void 0:e.type)==null?void 0:t.name})}},{id:"brand.name",label:"Marca ",align:"left",sortable:!0,renderComponent:({row:e})=>{var t;return a.jsx(p,{to:`/equipment/${e==null?void 0:e.id}`,children:(t=e==null?void 0:e.brand)==null?void 0:t.name})}},{id:"model.name",label:"Modelo",align:"left",sortable:!0,renderComponent:({row:e})=>{var t;return a.jsx(p,{to:`/equipment/${e==null?void 0:e.id}`,children:(t=e==null?void 0:e.model)==null?void 0:t.name})}},{id:"sn",label:"Número de série",align:"left",sortable:!0,renderComponent:({row:e})=>a.jsx(p,{to:`/equipment/${e==null?void 0:e.id}`,children:e==null?void 0:e.sn})},{id:"created_by_user",visible:!1},{id:"created_at_datetime",label:"Criado por",align:"left",sortable:!0,renderComponent:({row:e})=>{var t,s,d,m,r;return a.jsx(a.Fragment,{children:a.jsxs(n,{sx:{flexDirection:"row",gap:2},children:[a.jsx(n,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.created_by_user?a.jsxs(a.Fragment,{children:[a.jsx(x,{alt:(t=e==null?void 0:e.created_by_user)==null?void 0:t.username,src:`${u}/users/${(s=e==null?void 0:e.created_by_user)==null?void 0:s.id}/avatar?size=80`,name:(d=e==null?void 0:e.created_by_user)==null?void 0:d.username}),a.jsxs(n,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(i,{variant:"p",component:"p",fontWeight:500,children:(m=e==null?void 0:e.created_by_user)==null?void 0:m.username}),a.jsx(i,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.created_by_user)==null?void 0:r.role})]})]}):a.jsx(i,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),a.jsx(_,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),a.jsxs(n,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(i,{variant:"p",component:"p",fontWeight:500,children:b(e==null?void 0:e.created_at_datetime)}),a.jsx(i,{variant:"p",component:"p",color:"var(--outline)",children:f(e==null?void 0:e.created_at_datetime)})]})]})})}},{id:"last_modified_by_user",visible:!1},{id:"last_modified_datetime",label:"Modificado pela última vez por",align:"left",sortable:!0,renderComponent:({row:e})=>{var t,s,d,m,r;return a.jsx(a.Fragment,{children:e!=null&&e.last_modified_datetime?a.jsxs(n,{sx:{flexDirection:"row",gap:2},children:[a.jsx(n,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.last_modified_by_user?a.jsxs(a.Fragment,{children:[a.jsx(x,{alt:(t=e==null?void 0:e.last_modified_by_user)==null?void 0:t.username,src:`${u}/users/${(s=e==null?void 0:e.last_modified_by_user)==null?void 0:s.id}/avatar?size=80`,name:(d=e==null?void 0:e.last_modified_by_user)==null?void 0:d.username}),a.jsxs(n,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(i,{variant:"p",component:"p",fontWeight:500,children:(m=e==null?void 0:e.last_modified_by_user)==null?void 0:m.username}),a.jsx(i,{variant:"p",component:"p",color:"var(--outline)",children:(r=e==null?void 0:e.last_modified_by_user)==null?void 0:r.role})]})]}):a.jsx(i,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),a.jsx(_,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),a.jsxs(n,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(i,{variant:"p",component:"p",fontWeight:500,children:b(e==null?void 0:e.last_modified_datetime)}),a.jsx(i,{variant:"p",component:"p",color:"var(--outline)",children:f(e==null?void 0:e.last_modified_datetime)})]})]}):a.jsx(i,{variant:"p",component:"p",color:"var(--outline)",children:"Ainda não foi modificado"})})}}],[]),y=o.useMemo(()=>[{id:"client",label:"Cliente",formatter:()=>{var e;return(e=l==null?void 0:l[0])==null?void 0:e.name}},{id:"type.name",label:"Tipo"},{id:"brand.name",label:"Marca"},{id:"model.name",label:"Modelo"},{id:"sn",label:"Número de série"},{id:"created_by_user.username",label:"Criado por"},{id:"created_at_datetime",label:"Data de criação",formatter:e=>e?h(e):""},{id:"last_modified_by_user.username",label:"Modificado pela última vez por"},{id:"last_modified_datetime",label:"Última data de modificação",formatter:e=>e?h(e):""}],[l]);return a.jsxs(C,{elevation:1,children:[a.jsx(E,{title:"Equipamentos",description:"Equipamentos do cliente",icon:a.jsx(q,{})}),a.jsx(T,{isLoading:!c,LoadingComponent:a.jsx(M,{mode:"datatable"}),LoadedComponent:a.jsx(S,{sx:{margin:3,border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:a.jsx(D,{mode:"datatable",data:c?l[0].equipments:[],columns:g,exportFileName:"equipamentos_cliente",exportColumns:y})})})]})};export{W as default};
