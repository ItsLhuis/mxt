import{d as u,j as e,B as x,h as s,S as t,F as p,T as g,a7 as f,L as j,s as v}from"./index-_NktdslD.js";import{u as S,t as w}from"./index-8QsUXVhp.js";import{b as y}from"./user-g_Xt_bPI.js";import{u as E}from"./useAuth-D15Qhy_G.js";import"./isPossiblePhoneNumber-DES16dOz.js";const L=()=>{var i;const n=u(),{register:l,handleSubmit:m,formState:{errors:o},setError:c}=S({resolver:w(y)}),{requestResetPassword:r}=E(),h=async d=>{await r.mutateAsync(d).then(a=>n(`/auth/resetPassword/verify/${a.token}`)).catch(a=>{if(a.error.code==="USR-003"){c("email",{type:"manual",message:"Não existe nenhuma conta associada a este e-mail"});return}v("Erro ao enviar código!")})};return e.jsxs(x,{children:[e.jsx(s,{variant:"h3",component:"h3",sx:{marginBottom:4,fontSize:"2.5rem !important"},children:"Mixtech"}),e.jsx(t,{sx:{gap:2,marginBottom:4},children:e.jsxs(t,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[e.jsx(s,{variant:"h4",component:"h4",children:"Esqueceu a sua senha?"}),e.jsx(s,{variant:"p",component:"p",children:"Digite o e-mail associado à sua conta!"})]})}),e.jsx("form",{onSubmit:m(h),children:e.jsxs(t,{sx:{gap:2},children:[e.jsx(p,{fullWidth:!0,children:e.jsx(g,{...l("email"),label:"E-mail",error:!!o.email,helperText:(i=o.email)==null?void 0:i.message,autoComplete:"off"})}),e.jsx(f,{to:"/auth/login",style:{alignSelf:"flex-end",fontSize:"13px"},children:"Iniciar sessão"}),e.jsx(j,{loading:r.isPending,type:"submit",variant:"contained",children:"Enviar Código"})]})})]})};export{L as default};
