import{d as ne,e as ae,r,j as i,S as l,a8 as _,aN as T,h as a,aZ as o,a_ as b,a$ as g,aE as C,aF as y,ax as le,aH as H,aj as L,ay as se,b0 as de,aG as ce,bd as $,bb as R,be as V,bf as k,bg as B,B as v,ba as N,aC as j,H as E,aV as me,f as pe,aM as xe,b1 as fe,b2 as ue,bh as re}from"./index-C9HasOiM.js";import{u as he}from"./useEquipment-ClzBGdbo.js";import{g as be}from"./getValidChipColor-D8WVyITM.js";import{M as ve}from"./MoreVert-CDz2P5kD.js";import{E as je}from"./Edit-CYRFZ1bJ.js";import{C as U}from"./Check-DBclaca9.js";import{V as _e}from"./Visibility-B00d3i-B.js";import{A as oe}from"./Attachment-ukPOh3N_.js";import{H as ge}from"./History-BDnjiCRC.js";import"./equipment-DQ8Bx2dX.js";const Ee=()=>{const P=ne(),{role:I}=ae(),{findAllEquipments:K,deleteEquipment:Y}=he(),{data:G,isLoading:Z}=K,[J,W]=r.useState(!1),[q,A]=r.useState({url:"",name:"",size:"",type:""}),Q=(n,s,f,u)=>{A({url:n,name:s,size:f,type:u}),W(!0)},X=()=>{W(!1),A({url:"",type:""})},[M,O]=r.useState({isOpen:!1,equipmentId:null}),w=n=>{O({isOpen:!0,equipmentId:n})},z=()=>{O({isOpen:!1,equipmentId:null})},ee=()=>new Promise((n,s)=>{M.equipmentId?Y.mutateAsync({equipmentId:M.equipmentId}).then(()=>{z(),n()}).catch(()=>{z(),s()}):(z(),s())}),ie=r.useMemo(()=>[{id:"client.name",label:"Cliente",align:"left",sortable:!0,renderComponent:({row:n})=>{var s,f,u,h;return i.jsxs(l,{sx:{flexDirection:"row",alignItems:"center",gap:1,whiteSpace:"pre"},children:[i.jsx(_,{to:`/client/${(s=n==null?void 0:n.client)==null?void 0:s.id}`,children:(f=n==null?void 0:n.client)==null?void 0:f.name}),((u=n==null?void 0:n.client)==null?void 0:u.description)&&i.jsx(T,{fontSize:"small",title:(h=n==null?void 0:n.client)==null?void 0:h.description})]})}},{id:"type.name",label:"Tipo",align:"left",sortable:!0,renderComponent:({row:n})=>{var s;return i.jsx(_,{to:`/equipment/${n==null?void 0:n.id}`,children:(s=n==null?void 0:n.type)==null?void 0:s.name})}},{id:"brand.name",label:"Marca ",align:"left",sortable:!0,renderComponent:({row:n})=>{var s;return i.jsx(_,{to:`/equipment/${n==null?void 0:n.id}`,children:(s=n==null?void 0:n.brand)==null?void 0:s.name})}},{id:"model.name",label:"Modelo",align:"left",sortable:!0,renderComponent:({row:n})=>{var s;return i.jsx(_,{to:`/equipment/${n==null?void 0:n.id}`,children:(s=n==null?void 0:n.model)==null?void 0:s.name})}},{id:"sn",label:"Número de série",align:"left",sortable:!0,renderComponent:({row:n})=>i.jsx(_,{to:`/equipment/${n==null?void 0:n.id}`,children:n==null?void 0:n.sn})},{id:"created_by_user",visible:!1},{id:"created_at_datetime",label:"Criado por",align:"left",sortable:!0,renderComponent:({row:n})=>{var s,f,u,h,e;return i.jsx(i.Fragment,{children:i.jsxs(l,{sx:{flexDirection:"row",gap:2},children:[i.jsx(l,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:n!=null&&n.created_by_user?i.jsxs(i.Fragment,{children:[i.jsx(o,{alt:(s=n==null?void 0:n.created_by_user)==null?void 0:s.username,src:`${b}/users/${(f=n==null?void 0:n.created_by_user)==null?void 0:f.id}/avatar?size=80`,name:(u=n==null?void 0:n.created_by_user)==null?void 0:u.username}),i.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[i.jsx(a,{variant:"p",component:"p",fontWeight:500,children:(h=n==null?void 0:n.created_by_user)==null?void 0:h.username}),i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:(e=n==null?void 0:n.created_by_user)==null?void 0:e.role})]})]}):i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),i.jsx(g,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),i.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[i.jsx(a,{variant:"p",component:"p",fontWeight:500,children:C(n==null?void 0:n.created_at_datetime)}),i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:y(n==null?void 0:n.created_at_datetime)})]})]})})}},{id:"last_modified_by_user",visible:!1},{id:"last_modified_datetime",label:"Modificado pela última vez por",align:"left",sortable:!0,renderComponent:({row:n})=>{var s,f,u,h,e;return i.jsx(i.Fragment,{children:n!=null&&n.last_modified_datetime?i.jsxs(l,{sx:{flexDirection:"row",gap:2},children:[i.jsx(l,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:n!=null&&n.last_modified_by_user?i.jsxs(i.Fragment,{children:[i.jsx(o,{alt:(s=n==null?void 0:n.last_modified_by_user)==null?void 0:s.username,src:`${b}/users/${(f=n==null?void 0:n.last_modified_by_user)==null?void 0:f.id}/avatar?size=80`,name:(u=n==null?void 0:n.last_modified_by_user)==null?void 0:u.username}),i.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[i.jsx(a,{variant:"p",component:"p",fontWeight:500,children:(h=n==null?void 0:n.last_modified_by_user)==null?void 0:h.username}),i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:(e=n==null?void 0:n.last_modified_by_user)==null?void 0:e.role})]})]}):i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),i.jsx(g,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),i.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[i.jsx(a,{variant:"p",component:"p",fontWeight:500,children:C(n==null?void 0:n.last_modified_datetime)}),i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:y(n==null?void 0:n.last_modified_datetime)})]})]}):i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:"Ainda não foi modificado"})})}},{id:"more_options",align:"right",sortable:!1,renderComponent:({row:n})=>i.jsx(le,{mode:"custom",customButton:i.jsx(H,{title:"Mais opções",sx:{margin:-1},children:i.jsx(L,{children:i.jsx(ve,{})})}),children:i.jsx(se,{buttons:[{label:"Editar",icon:i.jsx(je,{fontSize:"small"}),onClick:()=>P(`/equipment/${n==null?void 0:n.id}`)},...I!=="Funcionário"?[{label:"Eliminar",icon:i.jsx(de,{fontSize:"small",color:"error"}),color:"error",divider:!0,onClick:()=>w(n==null?void 0:n.id)}]:[]]})})}],[]),te=r.useMemo(()=>({row:n})=>{const s=r.useMemo(()=>[{id:"status.name",label:"Estado",align:"left",sortable:!0,renderComponent:({row:e})=>{var c,d;return i.jsx(_,{to:`/repair/${e==null?void 0:e.id}`,children:i.jsx(ce,{label:(c=e==null?void 0:e.status)==null?void 0:c.name,color:be((d=e==null?void 0:e.status)==null?void 0:d.color)})})}},{id:"entry_datetime",label:"Data de entrada",align:"left",sortable:!0,renderComponent:({row:e})=>i.jsx(i.Fragment,{children:e!=null&&e.entry_datetime?i.jsx(i.Fragment,{children:$(e==null?void 0:e.entry_datetime)}):i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})})},{id:"conclusion_datetime",label:"Data de conclusão",align:"left",sortable:!0,renderComponent:({row:e})=>i.jsx(i.Fragment,{children:e!=null&&e.conclusion_datetime?i.jsx(i.Fragment,{children:$(e==null?void 0:e.conclusion_datetime)}):i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})})},{id:"delivery_datetime",label:"Data de entrega",align:"left",sortable:!0,renderComponent:({row:e})=>i.jsx(i.Fragment,{children:e!=null&&e.delivery_datetime?i.jsx(i.Fragment,{children:$(e==null?void 0:e.delivery_datetime)}):i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})})},{id:"is_client_notified",label:"Cliente notificado",align:"left",sortable:!0,renderComponent:({row:e})=>i.jsx(l,{sx:{alignItems:"flex-start"},children:e!=null&&e.is_client_notified?i.jsx(U,{color:"success"}):i.jsx(R,{color:"error"})})},{id:"created_by_user",visible:!1},{id:"created_at_datetime",label:"Criado por",align:"left",sortable:!0,renderComponent:({row:e})=>{var c,d,m,p,x;return i.jsx(i.Fragment,{children:i.jsxs(l,{sx:{flexDirection:"row",gap:2},children:[i.jsx(l,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.created_by_user?i.jsxs(i.Fragment,{children:[i.jsx(o,{alt:(c=e==null?void 0:e.created_by_user)==null?void 0:c.username,src:`${b}/users/${(d=e==null?void 0:e.created_by_user)==null?void 0:d.id}/avatar?size=80`,name:(m=e==null?void 0:e.created_by_user)==null?void 0:m.username}),i.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[i.jsx(a,{variant:"p",component:"p",fontWeight:500,children:(p=e==null?void 0:e.created_by_user)==null?void 0:p.username}),i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:(x=e==null?void 0:e.created_by_user)==null?void 0:x.role})]})]}):i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),i.jsx(g,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),i.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[i.jsx(a,{variant:"p",component:"p",fontWeight:500,children:C(e==null?void 0:e.created_at_datetime)}),i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:y(e==null?void 0:e.created_at_datetime)})]})]})})}},{id:"last_modified_by_user",visible:!1},{id:"last_modified_datetime",label:"Modificado pela última vez por",align:"left",sortable:!0,renderComponent:({row:e})=>{var c,d,m,p,x;return i.jsx(i.Fragment,{children:e!=null&&e.last_modified_datetime?i.jsxs(l,{sx:{flexDirection:"row",gap:2},children:[i.jsx(l,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.last_modified_by_user?i.jsxs(i.Fragment,{children:[i.jsx(o,{alt:(c=e==null?void 0:e.last_modified_by_user)==null?void 0:c.username,src:`${b}/users/${(d=e==null?void 0:e.last_modified_by_user)==null?void 0:d.id}/avatar?size=80`,name:(m=e==null?void 0:e.last_modified_by_user)==null?void 0:m.username}),i.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[i.jsx(a,{variant:"p",component:"p",fontWeight:500,children:(p=e==null?void 0:e.last_modified_by_user)==null?void 0:p.username}),i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:(x=e==null?void 0:e.last_modified_by_user)==null?void 0:x.role})]})]}):i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),i.jsx(g,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),i.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[i.jsx(a,{variant:"p",component:"p",fontWeight:500,children:C(e==null?void 0:e.last_modified_datetime)}),i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:y(e==null?void 0:e.last_modified_datetime)})]})]}):i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:"Ainda não foi modificado"})})}}],[]),f=r.useMemo(()=>[{id:"file_mime_type",label:"Tipo",align:"left",sortable:!0,renderComponent:({row:e})=>i.jsx(l,{sx:{alignItems:"flex-start"},children:(e==null?void 0:e.file_mime_type)==="application/pdf"?i.jsx("img",{src:V}):e!=null&&e.file_mime_type.startsWith("image/")?i.jsx("img",{src:k}):i.jsx("img",{src:B})})},{id:"original_filename",label:"Ficheiro",align:"left",sortable:!0,renderComponent:({row:e})=>i.jsxs(l,{children:[i.jsx(a,{variant:"p",component:"p",children:e==null?void 0:e.original_filename}),i.jsx(a,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:`${(e==null?void 0:e.file_size)<1024*1024?((e==null?void 0:e.file_size)/1024).toFixed(2)+" Kb":((e==null?void 0:e.file_size)/(1024*1024)).toFixed(2)+" Mb"}`})]})},{id:"uploaded_by_user",visible:!1},{id:"uploaded_at_datetime",label:"Carregado por",align:"left",sortable:!0,renderComponent:({row:e})=>{var c,d,m,p,x;return i.jsx(i.Fragment,{children:i.jsxs(l,{sx:{flexDirection:"row",gap:2},children:[i.jsx(l,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:e!=null&&e.uploaded_by_user?i.jsxs(i.Fragment,{children:[i.jsx(o,{alt:(c=e==null?void 0:e.uploaded_by_user)==null?void 0:c.username,src:`${b}/users/${(d=e==null?void 0:e.uploaded_by_user)==null?void 0:d.id}/avatar?size=80`,name:(m=e==null?void 0:e.uploaded_by_user)==null?void 0:m.username}),i.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[i.jsx(a,{variant:"p",component:"p",fontWeight:500,children:(p=e==null?void 0:e.uploaded_by_user)==null?void 0:p.username}),i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:(x=e==null?void 0:e.uploaded_by_user)==null?void 0:x.role})]})]}):i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),i.jsx(g,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),i.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[i.jsx(a,{variant:"p",component:"p",fontWeight:500,children:C(e==null?void 0:e.uploaded_at_datetime)}),i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:y(e==null?void 0:e.uploaded_at_datetime)})]})]})})}},{id:"view_file",align:"right",sortable:!1,renderComponent:({row:e})=>i.jsx(H,{title:"Ver anexo",sx:{margin:-1},children:i.jsx(L,{onClick:()=>Q(`${b}/equipments/${e==null?void 0:e.equipment_id}/attachments/${e==null?void 0:e.id}/${e==null?void 0:e.original_filename}`,e==null?void 0:e.original_filename,e==null?void 0:e.file_size,e==null?void 0:e.file_mime_type),children:i.jsx(_e,{})})})}],[]),u=r.useMemo(()=>[{id:"type",label:"Atividade",align:"left",sortable:!0},{id:"responsible_user",label:"Responsável",align:"left",sortable:!1,renderComponent:({row:e})=>{var c,d,m,p,x;return i.jsx(i.Fragment,{children:e!=null&&e.responsible_user?i.jsxs(l,{sx:{flexDirection:"row",gap:2},children:[i.jsxs(l,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:[i.jsx(o,{alt:(c=e==null?void 0:e.responsible_user)==null?void 0:c.username,src:`${b}/users/${(d=e==null?void 0:e.responsible_user)==null?void 0:d.id}/avatar?size=80`,name:(m=e==null?void 0:e.responsible_user)==null?void 0:m.username}),i.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[i.jsx(a,{variant:"p",component:"p",fontWeight:500,children:(p=e==null?void 0:e.responsible_user)==null?void 0:p.username}),i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:(x=e==null?void 0:e.responsible_user)==null?void 0:x.role})]})]}),i.jsx(g,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),i.jsxs(l,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[i.jsx(a,{variant:"p",component:"p",fontWeight:500,children:C(e==null?void 0:e.created_at_datetime)}),i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:y(e==null?void 0:e.created_at_datetime)})]})]}):i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})})}}],[]),h=r.useMemo(()=>({row:e})=>{var m,p,x;const c=r.useMemo(()=>[{id:"field",label:"Campo",align:"left",sortable:!0},{id:"before",label:"Antes",align:"left",sortable:!0,renderComponent:({row:t})=>{var F,S,D;return(t==null?void 0:t.field)==="Descrição"&&t!=null&&t.before?i.jsx(v,{sx:{maxHeight:300,overflow:"hidden",overflowY:"auto",borderRadius:"8px",border:"1px solid var(--elevation-level5)",padding:2},children:i.jsx("span",{className:"table-cell-tiptap-editor",dangerouslySetInnerHTML:N(t==null?void 0:t.before)})}):(t==null?void 0:t.field)==="Cliente"&&t!=null&&t.before?i.jsxs(l,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[t==null?void 0:t.before.name,(t==null?void 0:t.before.description)&&i.jsx(T,{fontSize:"small",title:t==null?void 0:t.before.description})]}):(t==null?void 0:t.field)==="Tipo"&&t!=null&&t.before?i.jsx(i.Fragment,{children:(F=t==null?void 0:t.before)==null?void 0:F.name}):(t==null?void 0:t.field)==="Marca"&&t!=null&&t.before?i.jsx(i.Fragment,{children:(S=t==null?void 0:t.before)==null?void 0:S.name}):(t==null?void 0:t.field)==="Modelo"&&t!=null&&t.before?i.jsx(i.Fragment,{children:(D=t==null?void 0:t.before)==null?void 0:D.name}):t!=null&&t.before?t==null?void 0:t.before:i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})}},{id:"after",label:"Depois",align:"left",sortable:!0,renderComponent:({row:t})=>{var F,S,D;return(t==null?void 0:t.field)==="Descrição"&&t!=null&&t.after?i.jsx(v,{sx:{maxHeight:300,overflow:"hidden",overflowY:"auto",borderRadius:"8px",border:"1px solid var(--elevation-level5)",padding:2},children:i.jsx("span",{className:"table-cell-tiptap-editor",dangerouslySetInnerHTML:N(t==null?void 0:t.after)})}):(t==null?void 0:t.field)==="Cliente"&&t!=null&&t.after?i.jsxs(l,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[t==null?void 0:t.after.name,(t==null?void 0:t.after.description)&&i.jsx(T,{fontSize:"small",title:t==null?void 0:t.after.description})]}):(t==null?void 0:t.field)==="Tipo"&&t!=null&&t.after?i.jsx(i.Fragment,{children:(F=t==null?void 0:t.after)==null?void 0:F.name}):(t==null?void 0:t.field)==="Marca"&&t!=null&&t.after?i.jsx(i.Fragment,{children:(S=t==null?void 0:t.after)==null?void 0:S.name}):(t==null?void 0:t.field)==="Modelo"&&t!=null&&t.after?i.jsx(i.Fragment,{children:(D=t==null?void 0:t.after)==null?void 0:D.name}):t!=null&&t.after?t==null?void 0:t.after:i.jsx(a,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})}},{id:"changed",label:"Alterado",align:"left",sortable:!0,renderComponent:({row:t})=>i.jsx(i.Fragment,{children:t!=null&&t.changed?i.jsx(U,{color:"success"}):i.jsx(R,{color:"error"})})}],[]),d=r.useMemo(()=>[{id:"file_mime_type",label:"Tipo",align:"left",sortable:!0,renderComponent:({row:t})=>i.jsx(l,{sx:{alignItems:"flex-start"},children:(t==null?void 0:t.file_mime_type)==="application/pdf"?i.jsx("img",{src:V}):t!=null&&t.file_mime_type.startsWith("image/")?i.jsx("img",{src:k}):i.jsx("img",{src:B})})},{id:"original_filename",label:"Ficheiro",align:"left",sortable:!0,renderComponent:({row:t})=>i.jsxs(l,{children:[i.jsx(a,{variant:"p",component:"p",children:t==null?void 0:t.original_filename}),i.jsx(a,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:`${(t==null?void 0:t.file_size)<1024*1024?((t==null?void 0:t.file_size)/1024).toFixed(2)+" Kb":((t==null?void 0:t.file_size)/(1024*1024)).toFixed(2)+" Mb"}`})]})}],[]);return i.jsx(v,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden",margin:3},children:((m=e==null?void 0:e.details[0])==null?void 0:m.field)==="Anexos"?i.jsx(i.Fragment,{children:e!=null&&e.details[0].after?i.jsx(j,{data:((p=e==null?void 0:e.details[0])==null?void 0:p.after)??[],columns:d}):i.jsx(j,{showSearch:!1,data:[(x=e==null?void 0:e.details[0])==null?void 0:x.before],columns:d})}):i.jsx(j,{data:(e==null?void 0:e.details)??[],columns:c})})},[]);return i.jsxs(l,{sx:{margin:3,gap:3},children:[i.jsxs(v,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:[i.jsx(E,{title:"Reparações",description:"Reparações do equipamento",icon:i.jsx(me,{})}),i.jsx(j,{mode:"datatable",data:(n==null?void 0:n.repairs)??[],columns:s})]}),i.jsxs(v,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:[i.jsx(E,{title:"Anexos",description:"Anexos do equipamento",icon:i.jsx(oe,{})}),i.jsx(j,{mode:"datatable",data:(n==null?void 0:n.attachments)??[],columns:f})]}),I!=="Funcionário"&&i.jsxs(v,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:[i.jsx(E,{title:"Histórico de Atividades",description:"Histórico de atividades sobre o equipamento",icon:i.jsx(ge,{})}),i.jsx(j,{mode:"datatable",data:(n==null?void 0:n.interactions_history)??[],columns:u,ExpandableContentComponent:h})]})]})},[]);return i.jsx(pe,{elevation:1,children:i.jsxs(v,{sx:{marginTop:3},children:[i.jsx(xe,{isLoading:Z,LoadingComponent:i.jsx(fe,{mode:"datatable"}),LoadedComponent:i.jsx(j,{mode:"datatable",data:G??[],columns:ie,ExpandableContentComponent:te})}),i.jsx(ue,{mode:"delete",title:"Eliminar Equipamento",open:M.isOpen,onClose:z,onSubmit:ee,description:"Tem a certeza que deseja eliminar este equipamento?",subDescription:"Ao eliminar este equipamento, todos os dados relacionados, incluindo anexos e reparações associadas, serão removidos de forma permanente."}),i.jsx(re,{open:J,onClose:X,file:q.url,fileName:q.name,fileSize:Number(q.size),fileType:q.type})]})})};export{Ee as default};
