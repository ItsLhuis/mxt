import{d as be,e as he,r as u,j as a,a7 as h,aH as I,S as d,b0 as G,b4 as o,h as n,b2 as F,aF as z,aG as C,aI as T,aJ as q,aK as M,aL as je,aM as J,ah as Q,aN as _e,aO as ge,aP as ve,b5 as X,b6 as Z,b7 as w,B as j,b1 as ee,aT as _,H as ie,aQ as y,f as oe,aR as Ce,aS as ye,aU as De,b8 as Se}from"./index-_NktdslD.js";import{u as Fe}from"./useRepair-MRRzMLfz.js";import{g as R}from"./getValidChipColor-D8WVyITM.js";import{C as $}from"./Check-DhRqV4Lx.js";import{E as ze}from"./Edit-9t-WI8hJ.js";import{V as Te}from"./Visibility-DFwPaxnL.js";import{A as qe}from"./Attachment-mpytDbBq.js";import{H as Me}from"./History-B4BUT27R.js";const Le=()=>{const ae=be(),{role:H}=he(),{findAllRepairs:te,deleteRepair:ne}=Fe(),{data:se,isLoading:le}=te,[de,O]=u.useState(!1),[D,W]=u.useState({url:"",name:"",size:"",type:""}),ce=(i,s,l,c)=>{W({url:i,name:s,size:l,type:c}),O(!0)},me=()=>{O(!1),W({url:"",type:""})},[A,L]=u.useState({isOpen:!1,repairId:null}),pe=i=>{L({isOpen:!0,repairId:i})},S=()=>{L({isOpen:!1,repairId:null})},fe=()=>new Promise((i,s)=>{A.repairId?ne.mutateAsync({repairId:A.repairId}).then(()=>{S(),i()}).catch(()=>{S(),s()}):(S(),s())}),xe=u.useMemo(()=>[{id:"status.name",label:"Estado",align:"left",sortable:!0,renderComponent:({row:i})=>{var s,l;return a.jsx(h,{to:`/repair/${i==null?void 0:i.id}`,children:a.jsx(I,{label:(s=i==null?void 0:i.status)==null?void 0:s.name,color:R((l=i==null?void 0:i.status)==null?void 0:l.color)})})}},{id:"equipment.client.name",label:"Cliente",align:"left",sortable:!0,renderComponent:({row:i})=>{var s,l,c,t,m,p,f,x;return a.jsxs(d,{sx:{flexDirection:"row",alignItems:"center",gap:1,whiteSpace:"pre"},children:[a.jsx(h,{to:`/client/${(l=(s=i==null?void 0:i.equipment)==null?void 0:s.client)==null?void 0:l.id}`,children:(t=(c=i==null?void 0:i.equipment)==null?void 0:c.client)==null?void 0:t.name}),((p=(m=i==null?void 0:i.equipment)==null?void 0:m.client)==null?void 0:p.description)&&a.jsx(G,{title:(x=(f=i==null?void 0:i.equipment)==null?void 0:f.client)==null?void 0:x.description})]})}},{id:"equipment.type.name",label:"Tipo",align:"left",sortable:!0,renderComponent:({row:i})=>{var s,l,c;return a.jsx(h,{to:`/equipment/${(s=i==null?void 0:i.equipment)==null?void 0:s.id}`,children:(c=(l=i==null?void 0:i.equipment)==null?void 0:l.type)==null?void 0:c.name})}},{id:"equipment.brand.name",label:"Marca ",align:"left",sortable:!0,renderComponent:({row:i})=>{var s,l,c;return a.jsx(h,{to:`/equipment/${(s=i==null?void 0:i.equipment)==null?void 0:s.id}`,children:(c=(l=i==null?void 0:i.equipment)==null?void 0:l.brand)==null?void 0:c.name})}},{id:"equipment.model.name",label:"Modelo",align:"left",sortable:!0,renderComponent:({row:i})=>{var s,l,c;return a.jsx(h,{to:`/equipment/${(s=i==null?void 0:i.equipment)==null?void 0:s.id}`,children:(c=(l=i==null?void 0:i.equipment)==null?void 0:l.model)==null?void 0:c.name})}},{id:"equipment.sn",label:"Número de série",align:"left",sortable:!0,renderComponent:({row:i})=>{var s,l;return a.jsx(h,{to:`/equipment/${(s=i==null?void 0:i.equipment)==null?void 0:s.id}`,children:(l=i==null?void 0:i.equipment)==null?void 0:l.sn})}},{id:"entry_datetime",label:"Data de entrada",align:"left",sortable:!0,renderComponent:({row:i})=>a.jsx(a.Fragment,{children:i!=null&&i.entry_datetime?a.jsx(a.Fragment,{children:o(i==null?void 0:i.entry_datetime)}):a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})})},{id:"conclusion_datetime",label:"Data de conclusão",align:"left",sortable:!0,renderComponent:({row:i})=>a.jsx(a.Fragment,{children:i!=null&&i.conclusion_datetime?a.jsx(a.Fragment,{children:o(i==null?void 0:i.conclusion_datetime)}):a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})})},{id:"delivery_datetime",label:"Data de entrega",align:"left",sortable:!0,renderComponent:({row:i})=>a.jsx(a.Fragment,{children:i!=null&&i.delivery_datetime?a.jsx(a.Fragment,{children:o(i==null?void 0:i.delivery_datetime)}):a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})})},{id:"is_client_notified",label:"Cliente notificado",align:"left",sortable:!0,renderComponent:({row:i})=>a.jsx(d,{sx:{alignItems:"flex-start"},children:i!=null&&i.is_client_notified?a.jsx($,{color:"success"}):a.jsx(F,{color:"error"})})},{id:"created_by_user",visible:!1},{id:"created_at_datetime",label:"Criado por",align:"left",sortable:!0,renderComponent:({row:i})=>{var s,l,c,t,m;return a.jsx(a.Fragment,{children:a.jsxs(d,{sx:{flexDirection:"row",gap:2},children:[a.jsx(d,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:i!=null&&i.created_by_user?a.jsxs(a.Fragment,{children:[a.jsx(z,{alt:(s=i==null?void 0:i.created_by_user)==null?void 0:s.username,src:`${C}/users/${(l=i==null?void 0:i.created_by_user)==null?void 0:l.id}/avatar?size=80`,name:(c=i==null?void 0:i.created_by_user)==null?void 0:c.username}),a.jsxs(d,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(t=i==null?void 0:i.created_by_user)==null?void 0:t.username}),a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(m=i==null?void 0:i.created_by_user)==null?void 0:m.role})]})]}):a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),a.jsx(T,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),a.jsxs(d,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(n,{variant:"p",component:"p",fontWeight:500,children:q(i==null?void 0:i.created_at_datetime)}),a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:M(i==null?void 0:i.created_at_datetime)})]})]})})}},{id:"last_modified_by_user",visible:!1},{id:"last_modified_datetime",label:"Modificado pela última vez por",align:"left",sortable:!0,renderComponent:({row:i})=>{var s,l,c,t,m;return a.jsx(a.Fragment,{children:i!=null&&i.last_modified_datetime?a.jsxs(d,{sx:{flexDirection:"row",gap:2},children:[a.jsx(d,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:i!=null&&i.last_modified_by_user?a.jsxs(a.Fragment,{children:[a.jsx(z,{alt:(s=i==null?void 0:i.last_modified_by_user)==null?void 0:s.username,src:`${C}/users/${(l=i==null?void 0:i.last_modified_by_user)==null?void 0:l.id}/avatar?size=80`,name:(c=i==null?void 0:i.last_modified_by_user)==null?void 0:c.username}),a.jsxs(d,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(t=i==null?void 0:i.last_modified_by_user)==null?void 0:t.username}),a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(m=i==null?void 0:i.last_modified_by_user)==null?void 0:m.role})]})]}):a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),a.jsx(T,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),a.jsxs(d,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(n,{variant:"p",component:"p",fontWeight:500,children:q(i==null?void 0:i.last_modified_datetime)}),a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:M(i==null?void 0:i.last_modified_datetime)})]})]}):a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Ainda não foi modificado"})})}},{id:"more_options",align:"right",sortable:!1,renderComponent:({row:i})=>a.jsx(je,{mode:"custom",customButton:a.jsx(J,{title:"Mais opções",sx:{margin:-1},children:a.jsx(Q,{children:a.jsx(_e,{})})}),children:a.jsx(ge,{buttons:[{label:"Editar",icon:a.jsx(ze,{fontSize:"small"}),onClick:()=>ae(`/repair/${i==null?void 0:i.id}`)},...H!=="Funcionário"?[{label:"Eliminar",icon:a.jsx(ve,{fontSize:"small",color:"error"}),color:"error",divider:!0,onClick:()=>pe(i==null?void 0:i.id)}]:[]]})})}],[]),ue=u.useMemo(()=>({row:i})=>{const s=u.useMemo(()=>[{id:"file_mime_type",label:"Tipo",align:"left",sortable:!0,renderComponent:({row:t})=>a.jsx(d,{sx:{alignItems:"flex-start"},children:(t==null?void 0:t.file_mime_type)==="application/pdf"?a.jsx("img",{src:X}):t!=null&&t.file_mime_type.startsWith("image/")?a.jsx("img",{src:Z}):a.jsx("img",{src:w})})},{id:"original_filename",label:"Ficheiro",align:"left",sortable:!0,renderComponent:({row:t})=>a.jsxs(d,{children:[a.jsx(n,{variant:"p",component:"p",children:t==null?void 0:t.original_filename}),a.jsx(n,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:`${(t==null?void 0:t.file_size)<1048576?((t==null?void 0:t.file_size)/1024).toFixed(2)+" Kb":((t==null?void 0:t.file_size)/1048576).toFixed(2)+" Mb"}`})]})},{id:"uploaded_by_user",visible:!1},{id:"uploaded_at_datetime",label:"Carregado por",align:"left",sortable:!0,renderComponent:({row:t})=>{var m,p,f,x,r;return a.jsx(a.Fragment,{children:a.jsxs(d,{sx:{flexDirection:"row",gap:2},children:[a.jsx(d,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:t!=null&&t.uploaded_by_user?a.jsxs(a.Fragment,{children:[a.jsx(z,{alt:(m=t==null?void 0:t.uploaded_by_user)==null?void 0:m.username,src:`${C}/users/${(p=t==null?void 0:t.uploaded_by_user)==null?void 0:p.id}/avatar?size=80`,name:(f=t==null?void 0:t.uploaded_by_user)==null?void 0:f.username}),a.jsxs(d,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(x=t==null?void 0:t.uploaded_by_user)==null?void 0:x.username}),a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(r=t==null?void 0:t.uploaded_by_user)==null?void 0:r.role})]})]}):a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})}),a.jsx(T,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),a.jsxs(d,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(n,{variant:"p",component:"p",fontWeight:500,children:q(t==null?void 0:t.uploaded_at_datetime)}),a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:M(t==null?void 0:t.uploaded_at_datetime)})]})]})})}},{id:"view_file",align:"right",sortable:!1,renderComponent:({row:t})=>a.jsx(J,{title:"Ver anexo",sx:{margin:-1},children:a.jsx(Q,{onClick:()=>ce(`${C}/repairs/${t==null?void 0:t.repair_id}/attachments/${t==null?void 0:t.id}/${t==null?void 0:t.original_filename}`,t==null?void 0:t.original_filename,t==null?void 0:t.file_size,t==null?void 0:t.file_mime_type),children:a.jsx(Te,{})})})}],[]),l=u.useMemo(()=>[{id:"type",label:"Atividade",align:"left",sortable:!0},{id:"responsible_user",label:"Responsável",align:"left",sortable:!1,renderComponent:({row:t})=>{var m,p,f,x,r;return a.jsx(a.Fragment,{children:t!=null&&t.responsible_user?a.jsxs(d,{sx:{flexDirection:"row",gap:2},children:[a.jsxs(d,{sx:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:[a.jsx(z,{alt:(m=t==null?void 0:t.responsible_user)==null?void 0:m.username,src:`${C}/users/${(p=t==null?void 0:t.responsible_user)==null?void 0:p.id}/avatar?size=80`,name:(f=t==null?void 0:t.responsible_user)==null?void 0:f.username}),a.jsxs(d,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(n,{variant:"p",component:"p",fontWeight:500,children:(x=t==null?void 0:t.responsible_user)==null?void 0:x.username}),a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:(r=t==null?void 0:t.responsible_user)==null?void 0:r.role})]})]}),a.jsx(T,{sx:{borderColor:"var(--elevation-level5)",borderWidth:1}}),a.jsxs(d,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsx(n,{variant:"p",component:"p",fontWeight:500,children:q(t==null?void 0:t.created_at_datetime)}),a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:M(t==null?void 0:t.created_at_datetime)})]})]}):a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Utilizador removido"})})}}],[]),c=u.useMemo(()=>({row:t})=>{var f,x,r,k;const m=u.useMemo(()=>[{id:"field",label:"Campo",align:"left",sortable:!0},{id:"before",label:"Antes",align:"left",sortable:!0,renderComponent:({row:e})=>{var g,v;return((e==null?void 0:e.field)==="Descrição da entrada"||(e==null?void 0:e.field)==="Descrição dos acessórios da entrada"||(e==null?void 0:e.field)==="Descrição dos problemas reportados"||(e==null?void 0:e.field)==="Descrição dos trabalhos realizados"||(e==null?void 0:e.field)==="Descrição dos acessórios da intervenção"||(e==null?void 0:e.field)==="Descrição da intervenção")&&e!=null&&e.before?a.jsx(j,{sx:{maxHeight:300,overflow:"hidden",overflowY:"auto",borderRadius:"8px",border:"1px solid var(--elevation-level5)",padding:2},children:a.jsx("span",{className:"table-cell-tiptap-editor",dangerouslySetInnerHTML:ee(e==null?void 0:e.before)})}):(e==null?void 0:e.field)==="Estado"&&e!=null&&e.before?a.jsx(I,{label:(g=e==null?void 0:e.before)==null?void 0:g.name,color:R((v=e==null?void 0:e.before)==null?void 0:v.color)}):((e==null?void 0:e.field)==="Data de entrada"||(e==null?void 0:e.field)==="Data de conclusão"||(e==null?void 0:e.field)==="Data de entrega")&&e!=null&&e.before?a.jsx(a.Fragment,{children:o(e==null?void 0:e.before)}):(e==null?void 0:e.field)==="Cliente notificado"?a.jsx(a.Fragment,{children:e!=null&&e.before?a.jsx($,{color:"success"}):a.jsx(F,{color:"error"})}):(e==null?void 0:e.field)==="Acessórios da entrada"||(e==null?void 0:e.field)==="Problemas reportados"||(e==null?void 0:e.field)==="Trabalhos realizados"||(e==null?void 0:e.field)==="Acessórios da intervenção"?e!=null&&e.before&&(e==null?void 0:e.before.length)>0?e==null?void 0:e.before.map(b=>b==null?void 0:b.name).join(", "):a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"}):e!=null&&e.before?e==null?void 0:e.before:a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})}},{id:"after",label:"Depois",align:"left",sortable:!0,renderComponent:({row:e})=>{var g,v,b,V,B,N,P,U,K,Y;return((e==null?void 0:e.field)==="Descrição da entrada"||(e==null?void 0:e.field)==="Descrição dos acessórios da entrada"||(e==null?void 0:e.field)==="Descrição dos problemas reportados"||(e==null?void 0:e.field)==="Descrição dos trabalhos realizados"||(e==null?void 0:e.field)==="Descrição dos acessórios da intervenção"||(e==null?void 0:e.field)==="Descrição da intervenção")&&e!=null&&e.after?a.jsx(j,{sx:{maxHeight:300,overflow:"hidden",overflowY:"auto",borderRadius:"8px",border:"1px solid var(--elevation-level5)",padding:2},children:a.jsx("span",{className:"table-cell-tiptap-editor",dangerouslySetInnerHTML:ee(e==null?void 0:e.after)})}):(e==null?void 0:e.field)==="Equipamento"&&e!=null&&e.after?a.jsx(G,{fontSize:"small",title:a.jsxs(d,{sx:{justifyContent:"center",alignItems:"flex-start",gap:.5},children:[a.jsx(n,{variant:"h5",component:"h5",sx:{wordBreak:"break-all"},children:(v=(g=e==null?void 0:e.after)==null?void 0:g.client)==null?void 0:v.name}),a.jsx(d,{sx:{flexDirection:"row",width:"100%"},children:a.jsxs(n,{variant:"p",component:"p",sx:{wordBreak:"break-all"},children:[(V=(b=e==null?void 0:e.after)==null?void 0:b.type)==null?void 0:V.name,", ",(N=(B=e==null?void 0:e.after)==null?void 0:B.brand)==null?void 0:N.name,(U=(P=e==null?void 0:e.after)==null?void 0:P.model)==null?void 0:U.name]})})]})}):(e==null?void 0:e.field)==="Estado"&&e!=null&&e.after?a.jsx(I,{label:(K=e==null?void 0:e.after)==null?void 0:K.name,color:R((Y=e==null?void 0:e.after)==null?void 0:Y.color)}):((e==null?void 0:e.field)==="Data de entrada"||(e==null?void 0:e.field)==="Data de conclusão"||(e==null?void 0:e.field)==="Data de entrega")&&e!=null&&e.after?a.jsx(a.Fragment,{children:o(e==null?void 0:e.after)}):(e==null?void 0:e.field)==="Cliente notificado"?a.jsx(a.Fragment,{children:e!=null&&e.after?a.jsx($,{color:"success"}):a.jsx(F,{color:"error"})}):(e==null?void 0:e.field)==="Acessórios da entrada"||(e==null?void 0:e.field)==="Problemas reportados"||(e==null?void 0:e.field)==="Trabalhos realizados"||(e==null?void 0:e.field)==="Acessórios da intervenção"?e!=null&&e.after&&(e==null?void 0:e.after.length)>0?e==null?void 0:e.after.map(E=>E==null?void 0:E.name).join(", "):a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"}):e!=null&&e.after?e==null?void 0:e.after:a.jsx(n,{variant:"p",component:"p",color:"var(--outline)",children:"Sem valor"})}},{id:"changed",label:"Alterado",align:"left",sortable:!0,renderComponent:({row:e})=>a.jsx(a.Fragment,{children:e!=null&&e.changed?a.jsx($,{color:"success"}):a.jsx(F,{color:"error"})})}],[]),p=u.useMemo(()=>[{id:"file_mime_type",label:"Tipo",align:"left",sortable:!0,renderComponent:({row:e})=>a.jsx(d,{sx:{alignItems:"flex-start"},children:(e==null?void 0:e.file_mime_type)==="application/pdf"?a.jsx("img",{src:X}):e!=null&&e.file_mime_type.startsWith("image/")?a.jsx("img",{src:Z}):a.jsx("img",{src:w})})},{id:"original_filename",label:"Ficheiro",align:"left",sortable:!0,renderComponent:({row:e})=>a.jsxs(d,{children:[a.jsx(n,{variant:"p",component:"p",children:e==null?void 0:e.original_filename}),a.jsx(n,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:`${(e==null?void 0:e.file_size)<1024*1024?((e==null?void 0:e.file_size)/1024).toFixed(2)+" Kb":((e==null?void 0:e.file_size)/(1024*1024)).toFixed(2)+" Mb"}`})]})}],[]);return a.jsx(j,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden",margin:3},children:((f=t==null?void 0:t.details[0])==null?void 0:f.field)==="Anexos"?a.jsx(a.Fragment,{children:(x=t==null?void 0:t.details[0])!=null&&x.after?a.jsx(_,{data:((r=t==null?void 0:t.details[0])==null?void 0:r.after)??[],columns:p}):a.jsx(_,{showSearch:!1,data:[(k=t==null?void 0:t.details[0])==null?void 0:k.before],columns:p})}):a.jsx(_,{data:(t==null?void 0:t.details)??[],columns:m})})},[]);return a.jsxs(d,{sx:{margin:3,gap:3},children:[a.jsxs(j,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:[a.jsx(ie,{title:"Anexos",description:"Anexos da reparação",icon:a.jsx(qe,{})}),a.jsx(_,{mode:"datatable",data:(i==null?void 0:i.attachments)??[],columns:s})]}),H!=="Funcionário"&&a.jsxs(j,{sx:{border:"1px solid var(--elevation-level5)",borderRadius:2,overflow:"hidden"},children:[a.jsx(ie,{title:"Histórico de Atividades",description:"Histórico de atividades sobre a reparação",icon:a.jsx(Me,{})}),a.jsx(_,{mode:"datatable",data:(i==null?void 0:i.interactions_history)??[],columns:l,ExpandableContentComponent:c})]})]})},[]),re=u.useMemo(()=>[{id:"equipment.client.name",label:"Cliente"},{id:"equipment",label:"Equipamento",formatter:i=>{var s,l,c;return`${(s=i==null?void 0:i.type)==null?void 0:s.name} - ${(l=i==null?void 0:i.brand)==null?void 0:l.name} ${(c=i==null?void 0:i.model)==null?void 0:c.name} (${i==null?void 0:i.sn})`}},{id:"status",label:"Estado",formatter:i=>i==null?void 0:i.name,color:i=>i==null?void 0:i.color},{id:"entry_datetime",label:"Data de entrada",formatter:i=>i?y(i):""},{id:"conclusion_datetime",label:"Data de conclusão",formatter:i=>i?y(i):""},{id:"delivery_datetime",label:"Data de entrega",formatter:i=>i?y(i):""},{id:"is_client_notified",label:"Cliente notificado",formatter:i=>i===!0?"Sim":"Não"},{id:"created_by_user.username",label:"Criado por"},{id:"created_at_datetime",label:"Data de criação",formatter:i=>i?y(i):""},{id:"last_modified_by_user.username",label:"Modificado pela última vez por"},{id:"last_modified_datetime",label:"Última data de modificação",formatter:i=>i?y(i):""}],[]);return a.jsx(oe,{elevation:1,children:a.jsxs(j,{sx:{marginTop:3},children:[a.jsx(Ce,{isLoading:le,LoadingComponent:a.jsx(ye,{mode:"datatable"}),LoadedComponent:a.jsx(_,{mode:"datatable",data:se??[],columns:xe,exportFileName:"reparacoes",exportColumns:re,ExpandableContentComponent:ue})}),a.jsx(De,{mode:"delete",title:"Eliminar Reparação",open:A.isOpen,onClose:S,onSubmit:fe,description:"Tem a certeza que deseja eliminar esta reparação?",subDescription:"Ao eliminar esta reparação, todos os dados relacionados, incluindo anexos, serão removidos de forma permanente."}),a.jsx(Se,{open:de,onClose:me,file:D.url,fileName:D.name,fileSize:Number(D.size),fileType:D.type})]})})};export{Le as default};
