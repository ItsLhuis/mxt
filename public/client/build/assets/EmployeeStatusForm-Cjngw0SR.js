import{p as f,j as t,r as S,o as g,f as w,S as o,H as E,aQ as C,a_ as i,F as b,h as x,B as y,L,aj as A,s as z}from"./index-mWc9gLhA.js";import{u as B,b as I,a as D,C as V,t as k}from"./index-COzNbWAj.js";import{g as T}from"./user-O1P_YrQ_.js";import{S as _}from"./Switch-CifR94Xw.js";import"./isPossiblePhoneNumber-DES16dOz.js";const F=f(t.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"}),"VerifiedUser"),R=({user:a,isUserFinished:e})=>{var d;const{control:n,handleSubmit:m,watch:H,reset:h}=B({resolver:k(T)}),p={isActive:e?!!((d=a==null?void 0:a.user)!=null&&d.is_active):!0},{isDirty:j}=I({control:n}),r=()=>!j;S.useEffect(()=>{e&&a&&h(p)},[e,a]);const{updateUserStatus:c}=g(),u=async s=>{var l;r()||c.mutateAsync({userId:(l=a==null?void 0:a.user)==null?void 0:l.id,...s}).then(()=>A("Estado da conta atualizado com sucesso!")).catch(()=>z("Erro ao atualizar estado da conta!"))},v=D({control:n,name:"isActive"});return t.jsx(w,{elevation:1,children:t.jsxs(o,{children:[t.jsx(E,{title:"Estado",description:"Atualizar estado da conta do funcionÃ¡rio",icon:t.jsx(F,{})}),t.jsx("form",{onSubmit:m(u),children:t.jsxs(o,{sx:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:3},children:[t.jsx(C,{isLoading:!e,LoadingComponent:t.jsxs(o,{sx:{flexDirection:"row",gap:1},children:[t.jsx(i,{variant:"text",width:40}),t.jsxs(o,{children:[t.jsx(i,{variant:"text",width:110}),t.jsx(i,{variant:"text",width:90})]})]}),LoadedComponent:t.jsx(b,{fullWidth:!0,children:t.jsxs(o,{sx:{flexDirection:"row",alignItems:"center"},children:[t.jsx(V,{name:"isActive",control:n,render:({field:s})=>t.jsx(_,{edge:"start",value:s.value,onChange:s.onChange,defaultChecked:!!(a!=null&&a.user.is_active)})}),t.jsxs(o,{children:[t.jsx(x,{variant:"p",component:"p",children:"Estado da conta"}),t.jsx(x,{variant:"p",component:"p",sx:{color:"var(--outline)"},children:v?"Ativa":"Inativa"})]})]})})}),t.jsx(y,{children:t.jsx(L,{loading:c.isPending,type:"submit",variant:"contained",disabled:!e||r(),children:"Atualizar Estado"})})]})})]})})};export{R as default};
