import{r as h,j as o,H as f,B as t,I as j,aF as m,L as y,aj as L,s as C}from"./index-mWc9gLhA.js";import{u as S,C as b,t as z}from"./index-COzNbWAj.js";import{c as F}from"./company-cIeqGv5O.js";import{u as w}from"./useCompany-CloSfph6.js";import"./isPossiblePhoneNumber-DES16dOz.js";const v=({isLoading:g,isError:d})=>{const e=!g&&!d,[s,r]=h.useState(!1),{control:p,handleSubmit:u,formState:{errors:n}}=S({resolver:z(F),defaultValues:{logo:`${m}/company/logo?size=180`}}),{updateCompanyLogo:i}=w(),x=async a=>{!e||!s||i.mutateAsync(a).then(()=>{r(!1),L("Logotipo atualizado com sucesso!")}).catch(()=>C("Erro ao atualizar logotipo!"))};return o.jsxs(o.Fragment,{children:[o.jsx(f,{title:"Logotipo",description:"Atualizar logotipo da empresa"}),o.jsx(t,{sx:{padding:3,paddingLeft:0},children:o.jsx("form",{onSubmit:u(x),children:o.jsxs(t,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",gap:2},children:[o.jsx(b,{name:"logo",control:p,defaultValue:"",render:({field:a})=>{var l;return o.jsx(j,{circular:!1,size:100,image:a.value,onChange:c=>{a.onChange(c),c!==`${m}/company/logo?size=180`&&r(!0)},loading:!e,error:!!n.logo,helperText:(l=n.logo)==null?void 0:l.message,sx:{"& img":{objectFit:"contain !important"}}})}}),o.jsx(t,{sx:{marginLeft:"auto"},children:o.jsx(y,{loading:i.isPending,type:"submit",variant:"contained",disabled:!e||!s,children:"Atualizar Logotipo"})})]})})})]})};export{v as default};
